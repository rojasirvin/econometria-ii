<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Irvin Rojas">
  <title>Econometría Aplicada y Ciencia de Datos – Modelos y datos de panel</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-2f366650f320edcfcf53d73c80250a32.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Modelos y datos de panel</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Irvin Rojas 
</div>
</div>
</div>

</section>
<section id="estructura-de-datos-en-panel" class="slide level2">
<h2>Estructura de datos en panel</h2>
<ul>
<li>Consideremos el siguiente modelo para unidades indexadas como <span class="math inline">\(i\)</span> observadas en varios periodos indexados con <span class="math inline">\(t\)</span></li>
</ul>
<p><span class="math display">\[y_{it}=\alpha_{it}+x_{it}'\beta_{it}+u_{it}\]</span></p>
<p>con <span class="math inline">\(i=1,\ldots,N\)</span> y <span class="math inline">\(t=1,\ldots,T\)</span></p>
<ul>
<li><p>Este modelo así escrito es muy general pues tiene un intercepto y una pendiente para cada <span class="math inline">\(i\)</span> y <span class="math inline">\(t\)</span></p></li>
<li><p>Sin embargo, este modelo es imposible de estimar pues hay más parámetros que las <span class="math inline">\(T\times N\)</span> observaciones</p></li>
</ul>
</section>
<section>
<section id="estructura-de-datos-en-panel-1" class="title-slide slide level1 center">
<h1>Estructura de datos en panel</h1>
<ul>
<li>Una forma de resolver el problema es formulando un <em>modelo de efectos específicos por individuo</em></li>
</ul>
<p><span class="math display">\[y_{it}=\alpha_i+x_{it}'\beta+\varepsilon_{it}\]</span></p>
<p>donde <span class="math inline">\(\varepsilon_{it}\)</span> es iid sobre <span class="math inline">\(i\)</span> y <span class="math inline">\(t\)</span></p>
<ul>
<li><p>Las <span class="math inline">\(\alpha_i\)</span> las pensamos como variables aleatorias que capturan la heterogeneidad</p></li>
<li><p>Para propósitos de estimación, recurriremos a un supuesto clave:</p></li>
<li><p><strong>Exogeneidad fuerte o estricta</strong>: asumimos que el error tiene media cero condicional cuando condicionamos en los valores contemporáneos, pasados y futuros</p></li>
</ul>
<p><span class="math display">\[E(\varepsilon_{it}|\alpha_i,x_{i1},\ldots,x_{iT})=0,\quad\quad t=1,\ldots,T\]</span></p>
<ul>
<li><p>La exogeneidad fuerte descarta modelos donde <span class="math inline">\(y_{it}\)</span> depende de sus rezagos o donde alguna de las <span class="math inline">\(x_{it}\)</span> es endógena</p></li>
<li><p>La forma en que tratemos a <span class="math inline">\(\alpha\)</span> resultará en los dos tipos de modelos principales de esta clase</p></li>
</ul>
</section>
<section id="modelo-de-efectos-fijos" class="slide level2">
<h2>Modelo de efectos fijos</h2>
<ul>
<li><p>Si asumimos que los efectos individuales están potencialmente correlacionados con <span class="math inline">\(x_{it}\)</span>, nuestro modelo se conoce como de <strong>efectos fijos</strong></p></li>
<li><p><span class="math inline">\(\alpha_i\)</span> es la heterogeneidad no observada</p></li>
<li><p>Con paneles cortos no podemos estimar de forma consistente las <span class="math inline">\(\alpha_i\)</span></p></li>
<li><p>Recurriremos a métodos para deshacernos de las <span class="math inline">\(\alpha_i\)</span></p></li>
</ul>
</section>
<section id="modelo-de-efectos-aleatorios" class="slide level2">
<h2>Modelo de efectos aleatorios</h2>
<ul>
<li><p>Por otro lado, si asumimos que la heterogeneidad no observada es una variable aleatoria independiente de <span class="math inline">\(x_{it}\)</span>, podemos hacer algunos supuestos sobre su distribución y especificar un modelo de <strong>efectos aleatorios</strong></p></li>
<li><p>Suponemos que tanto la heterogeneidad no observada como el error son iid</p>
<ul>
<li><p><span class="math inline">\(\alpha_i \sim (\alpha,\sigma^2_{\alpha})\)</span></p></li>
<li><p><span class="math inline">\(\varepsilon_{it} \sim (0,\sigma^2_{\varepsilon})\)</span></p></li>
</ul></li>
<li><p>Podemos ver al modelo como una transformación del original con un error compuesto <span class="math inline">\(u_{it}=\alpha_i+\varepsilon_{it}\)</span>:</p></li>
</ul>
<p><span class="math display">\[y_{it}=x_{it}'\beta+u_{it}\]</span></p>
<ul>
<li><p>Podemos mostrar que la correlación de los errores compuestos de dos observaciones en distintos momentos del tiempo es <span class="math inline">\(cor(u_{it},u_{is})=\frac{\sigma_{\alpha}^2}{\sigma_{\alpha}^2+\sigma_{\varepsilon}^2}\)</span></p></li>
<li><p>También se conoce como <strong>modelo equicorrelacionado</strong></p></li>
</ul>
</section>
<section id="nota-sobre-la-terminología" class="slide level2">
<h2>Nota sobre la terminología</h2>
<ul>
<li><p>Quizás un mejor nombre para el modelo de efectos aleatorios es el a veces usado modelo de <strong>intercepto aleatorio</strong> o de <strong>componentes aleatorios</strong></p></li>
<li><p>Para el modelo de efectos fijos, Lee (2002) usa el nombre de <strong>efecto relacionado</strong> y para el de efectos aleatorios el de <strong>efecto no relacionado</strong></p></li>
<li><p>Lo más importante es tener en cuenta que <span class="math inline">\(\alpha_i\)</span> es una variable aleatoria, lo que cambia es lo que asumimos sobre su correlación con los regresores</p></li>
</ul>
</section></section>
<section>
<section id="estimadores-para-el-modelo-de-efectos-fijos" class="title-slide slide level1 center">
<h1>Estimadores para el modelo de efectos fijos</h1>

</section>
<section id="estimador-de-efectos-fijos" class="slide level2">
<h2>Estimador de efectos fijos</h2>
<ul>
<li><p>También conocido como estimador <em>within</em></p></li>
<li><p>Tomando la media sobre <span class="math inline">\(i\)</span></p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\frac{1}{T}\sum_iy_{it}&amp;=\frac{1}{T}\sum_i\alpha_i+\frac{1}{T}\sum_ix_{it}'\beta+\frac{1}{T}\sum_i\varepsilon_{it} \\
\bar{y}_{i}&amp;=\alpha_i+ \bar{x}_i\beta+\bar{\varepsilon}_i
\end{aligned}
\]</span></p>
<ul>
<li>Y luego restando del modelo original estas medias</li>
</ul>
<p><span class="math display">\[y_{it}-\bar{y}_{i}=(x_{it}-\bar{x}_i)'\beta+(\varepsilon_{it}-\bar{\varepsilon}_i)\]</span></p>
<ul>
<li><p>El estimador within es el estimador de MCO a esta ecuación modificada</p></li>
<li><p><span class="math inline">\(\hat{\beta}\)</span> es consistente si los <span class="math inline">\(\alpha_i\)</span> son efectos fijos y <span class="math inline">\(\varepsilon_{it}\)</span> es iid</p></li>
<li><p>Una desventaja del modelo de efectos fijos es que no se pueden identificar el parámetros sobre regresores que son fijos en el tiempo, auque sean observables (sexo, IQ, lugar de nacimiento, raza, entre muchos otros)</p></li>
</ul>
</section>
<section id="estimador-de-efectos-fijos-1" class="slide level2">
<h2>Estimador de efectos fijos</h2>
<ul>
<li><p>Frecuentemente no estamos interesados en estimar los efectos fijos, es decir, los consideremos <strong>parámetros incómodos</strong></p></li>
<li><p>Si quisiéramos estimarlos directamente, podríamos incluir dummies individuales</p></li>
<li><p>Se requieren páneles largos para que los efectos estimados sean consistentes</p></li>
<li><p>En el resto del curso nos enfocaremos en casos donde podemos ignorar estos parámetros incómodos</p></li>
</ul>
</section>
<section id="estimador-de-primeras-diferencias" class="slide level2">
<h2>Estimador de primeras diferencias</h2>
<ul>
<li>Consideremos el modelo</li>
</ul>
<p><span class="math display">\[y_{it}-y_{it-1}=(x_{it}-x_{it-1})'\beta+(\varepsilon_{it}-\varepsilon_{it-1})\]</span></p>
<ul>
<li>El estimador de primeras diferencias es el estimador de MCO de esta ecuación</li>
</ul>
</section>
<section id="equivalencia-de-estimadores" class="slide level2">
<h2>Equivalencia de estimadores</h2>
<ul>
<li><p>Supongamos que existen una serie de características que son fijas en el tiempo</p></li>
<li><p>El estimador de primeras diferencias es consistente</p></li>
<li><p>El estimador de primeras diferencias y el within son iguales cuando <span class="math inline">\(T=2\)</span></p></li>
<li><p>Con <span class="math inline">\(T&gt;2\)</span> el estimador de primeras diferencias es menos eficiente</p></li>
<li><p>Los paquetes estadísticos usan un estimador within</p></li>
</ul>
</section>
<section id="propiedades-del-estimador-within" class="slide level2">
<h2>Propiedades del estimador within</h2>
<ul>
<li>El estimador within puede escribirse como</li>
</ul>
<p><span class="math display">\[\hat{\beta}_W=\left(\sum_i\sum_t(x_{it}-\bar{x}_i)(x_{it}-\bar{x}_i)'\right)^{-1}\sum_i\sum_y(x_{it}-\bar{x}_i)(y_{it}-\bar{y}_i)\]</span></p>
<ul>
<li><p>La consistencia del estimador depende de que <span class="math inline">\(p\lim \frac{1}{NT}\sum_i\sum_y(x_{it}-\bar{x}_i)(y_{it}-\bar{y}_i)=0\)</span> cuando <span class="math inline">\(N\to\infty\)</span> o <span class="math inline">\(T\to\infty\)</span></p></li>
<li><p>Frecuentemente tenemos pocos periodos (páneles cortos), por lo que esperamos que haya muchos individuos para probar consistencia</p></li>
<li><p>La condición de exogeneidad fuerte es suficiente para que <span class="math inline">\(p\lim \frac{1}{NT}\sum_i\sum_y(x_{it}-\bar{x}_i)(y_{it}-\bar{y}_i)=0\)</span> cuando <span class="math inline">\(N\to\infty\)</span> o <span class="math inline">\(T\to\infty\)</span></p></li>
</ul>
</section>
<section id="propiedades-del-estimador-within-1" class="slide level2">
<h2>Propiedades del estimador within</h2>
<ul>
<li>Podemos asumir que los errores <span class="math inline">\(\varepsilon_{it}\)</span> son iid y obtener</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\hat{V}(\hat{\beta}_{W,h})&amp;= \sigma^2_{\varepsilon}\left(\sum_i\sum_t (x_{it}-\bar{x}_i)(x_{it}-\bar{x}_i)'\right)^{-1}\\
&amp;=\sigma^2_{\varepsilon}\left(\sum_i\sum_t \ddot{x}_{it}\ddot{x}_{it}'\right)^{-1}
\end{aligned}
\]</span> donde se puede estimar <span class="math inline">\(\hat{\sigma}^2_{\varepsilon}=\frac{1}{N(T-1)-K}\sum_i\sum_t\hat{\varepsilon}_{it}\)</span></p>
<ul>
<li>Sin embargo, en panel esto es un supuesto fuerte pues esperamos que, auque las observaciones sean independientes entre individuos, haya correlación serial</li>
</ul>
</section>
<section id="propiedades-del-estimador-within-2" class="slide level2">
<h2>Propiedades del estimador within</h2>
<ul>
<li>Generalmente usamos una versión robusta, que considera la correlación serial y permite heterocedasticidad (ver ecuación 21.28 en CT)</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\hat{V}(\hat{\beta}_{W})&amp;=\left(\sum_i\sum_t \ddot{x}_{it}\ddot{x}_{it}'\right)^{-1}\left(\sum_i \sum_t \sum_s \ddot{x}_{it}\ddot{x}_{is}'\hat{\ddot{e}}_{it}\hat{\ddot{e}}_{is}\right)\left(\sum_i\sum_t \ddot{x}_{it}\ddot{x}_{it}'\right)^{-1}
\end{aligned}
\]</span></p>
<ul>
<li><p>Esta versión con la estructura de la matríz de White es robusta a la heterocedasticidad y a la correlación serial</p></li>
<li><p>Es lo que se conoce como matriz de varianzas agrupada</p></li>
</ul>
</section></section>
<section>
<section id="mínimos-cuadrados-generalizados" class="title-slide slide level1 center">
<h1>Mínimos cuadrados generalizados</h1>

</section>
<section id="breve-desviación-a-mínimos-cuadrados-generalizados" class="slide level2">
<h2>Breve desviación a mínimos cuadrados generalizados</h2>
<ul>
<li><p>En ECNI aprendimos que el estimador de MCO es el estimador de varianza mínima entre los estimadores lineales insesgados cuando los errores son iid</p></li>
<li><p>Ahora consideremos el modelo <span class="math inline">\(y=X\beta+u\)</span></p></li>
<li><p>Aasumamos que la varianza de los errores es <span class="math inline">\(\Omega\neq\sigma^2I\)</span></p></li>
<li><p>Asumamos que conocemos <span class="math inline">\(\Omega\)</span>, una matriz no singular</p></li>
<li><p>Si premultiplicamos el modelo lineal por <span class="math inline">\(\Omega^{-1/2}\)</span></p></li>
</ul>
<p><span class="math display">\[\Omega^{-1/2}y=\Omega^{-1/2}X\beta+\Omega^{-1/2}u\]</span> se puede mostrar con algo de álgebra que</p>
<p><span class="math display">\[V(\Omega^{-1/2}u)=E((\Omega^{-1/2}u)(\Omega^{-1/2}u)'|X)=I\]</span></p>
</section>
<section id="breve-desviación-a-mínimos-cuadrados-generalizados-1" class="slide level2">
<h2>Breve desviación a mínimos cuadrados generalizados</h2>
<ul>
<li><p>Es decir, los errores del modelo transformado son iid</p></li>
<li><p>Así que podemos estimar <span class="math inline">\(\beta\)</span> eficientemente por MCO al modelo transformado</p></li>
<li><p>El estimador <strong>mínimos cuadrados generalizados</strong> (MCG) es</p></li>
</ul>
<p><span class="math display">\[\hat{\beta}_{MCG}=(X'\Omega^{-1}X)^{-1}X'\Omega^{-1}y\]</span></p>
<ul>
<li><p>En la práctica, no conocemos <span class="math inline">\(\Omega\)</span></p></li>
<li><p>Podemos proponer un modelo para <span class="math inline">\(V(u|x)\)</span> y obtener un estimador consistente para <span class="math inline">\(\Omega\)</span></p></li>
<li><p>Esto da lugar al estimador de <strong>mínimos cuadrados generalizados feasibles</strong></p></li>
</ul>
<p><span class="math display">\[\hat{\beta}_{MCGF}=(X'\hat{\Omega}^{-1}X)^{-1}X'\hat{\Omega}^{-1}y\]</span></p>
</section></section>
<section>
<section id="estimador-between" class="title-slide slide level1 center">
<h1>Estimador between</h1>

</section>
<section id="estimador-between-1" class="slide level2">
<h2>Estimador between</h2>
<ul>
<li><p>Aunque es de poca utilidad práctica, el estimador <em>between</em> nos servirá de auxiliar más adelante</p></li>
<li><p>Explota la variación entre unidades</p></li>
<li><p>Al promediar sobre el tiempo recordemos que obtenemos</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
\bar{y}_{i}&amp;=\alpha_i+ \bar{x}_i\beta+\bar{\varepsilon}_i
\end{aligned}
\]</span> - Sumando 0 obtenemos:</p>
<p><span class="math display">\[
\begin{aligned}
\bar{y}_{i}&amp;=\alpha + \bar{x}_i\beta+(\alpha_i - \alpha + \bar{\varepsilon}_i)
\end{aligned}
\]</span></p>
<ul>
<li><p>El estimador between es MCO a la ecuación transformada (con intercepto)</p></li>
<li><p>Solo es consistente si <span class="math inline">\(\bar{x}_i\)</span> es independiente de el error compuesto <span class="math inline">\(\alpha_i - \alpha + \bar{\varepsilon}_i\)</span></p></li>
<li><p>Es equivalente a una regresión de sección cruzada con <span class="math inline">\(T=1\)</span></p></li>
</ul>
</section></section>
<section>
<section id="estimador-para-modelo-de-efectos-aleatorios" class="title-slide slide level1 center">
<h1>Estimador para modelo de efectos aleatorios</h1>

</section>
<section id="estimador-de-efectos-aleatorios" class="slide level2">
<h2>Estimador de efectos aleatorios</h2>
<ul>
<li>Podemos escribir el modelo general añadiendo un intercepto no aleatorio <span class="math inline">\(\mu\)</span> para que los efectos aleatorios puedan tener media cero:</li>
</ul>
<p><span class="math display">\[y_{it}=\mu+x_{it}'\beta+\alpha_i+\varepsilon_{it}=w_{it}'\delta+\alpha_i+\varepsilon_{it}\]</span> donde <span class="math inline">\(w_{it}=[1\;x_{it}]\)</span> y <span class="math inline">\(\delta=[\mu\;\beta']'\)</span></p>
<ul>
<li><p>Asumimos que <span class="math inline">\(\alpha_i\)</span> y <span class="math inline">\(\varepsilon_i\)</span> son iid</p></li>
<li><p><span class="math inline">\(\mu\)</span> simplemente garantiza que los errores tengan media cero</p></li>
</ul>
</section>
<section id="estimador-de-efectos-aleatorios-1" class="slide level2">
<h2>Estimador de efectos aleatorios</h2>
<ul>
<li>El estimador de MCG de <span class="math inline">\(\mu\)</span> y <span class="math inline">\(\beta\)</span> puede implementarse como MCO a la ecuación transformada</li>
</ul>
<p><span class="math display">\[y_{it}-\lambda\bar{y}_i=(1-\lambda)\mu+(x_{it}-\lambda\bar{x}_i)'\beta+\nu_{it}\]</span> donde <span class="math inline">\(\nu_{it}=(1-\lambda)\alpha_i+(\varepsilon_{it}-\lambda\bar{\varepsilon}_i)\)</span></p>
<ul>
<li>Construimos un estimador consistente de <span class="math inline">\(\lambda\)</span> usando estimadores consistentes de <span class="math inline">\(\sigma^2_{\varepsilon}\)</span> y <span class="math inline">\(\hat{\alpha}^2\)</span></li>
</ul>
<p><span class="math display">\[\hat{\lambda}=1-\frac{\hat{\sigma}_{\varepsilon}}{\sqrt{T\hat{\sigma}_{\alpha}^2+\hat{\sigma}_{\varepsilon}^2}}\]</span></p>
</section>
<section id="estimación-de-hatlambda" class="slide level2">
<h2>Estimación de <span class="math inline">\(\hat{\lambda}\)</span></h2>
<ul>
<li><p>El software estadístico hace estas estimaciones basadas en las ecuaciones 21.48 y 21.49 en CT</p></li>
<li><p>Para <span class="math inline">\(\sigma_{\varepsilon}^2\)</span> usamos el estimador within <span class="math inline">\(\hat{\beta}_W\)</span> para obtener:</p></li>
</ul>
<p><span class="math display">\[\hat{\sigma_{\varepsilon}}^2=\frac{1}{N(T-1)-k}\sum_i\sum_t\left((y_{it}-\bar{y}_i)-(x_{it}-\bar{x}_i)'\hat{\beta}_W\right)^2\]</span> - Para <span class="math inline">\(\sigma_{\alpha}^2\)</span>, usamos el estimador between <span class="math inline">\(\hat{\beta}_B\)</span> para obtener</p>
<p><span class="math display">\[\hat{\sigma_{\alpha}}^2=\frac{1}{N-(k-1)}\sum_i\left(\bar{y}_i-\hat{\alpha}_B-\bar{x}_i'\hat{\beta}_B\right)^2-\frac{1}{T}\hat{\sigma_{\varepsilon}}^2\]</span></p>
</section>
<section id="estimador-de-efectos-aleatorios-2" class="slide level2">
<h2>Estimador de efectos aleatorios</h2>
<ul>
<li><p>El estimador de efectos aleatorios se logra premultiplicando el modelo <span class="math inline">\(y_{it}=w_{it}'\delta+\alpha_i+\varepsilon_{it}\)</span> por <span class="math inline">\(\Omega^{-1/2}\)</span> y con algo de álgebra</p></li>
<li><p>Se asume que <span class="math inline">\(\alpha_i\)</span> y <span class="math inline">\(\varepsilon_{it}\)</span> son independientes</p></li>
<li><p>Hacemos <span class="math inline">\(\Omega_i\)</span> con entradas <span class="math inline">\(\sigma_{\alpha}^2+\sigma_{\varepsilon}^2\)</span> en la diagonal principal</p></li>
<li><p>Fuera de la diagonal tiene <span class="math inline">\(\sigma_{\alpha}^2\)</span></p></li>
</ul>
<p><span class="math display">\[\Omega=\sigma_{\varepsilon}^2 I_T+\sigma_{\alpha}^2ee'\]</span> donde <span class="math inline">\(e=(1,1,\ldots,1)'\)</span> es un vector de unos de dimensión <span class="math inline">\(T\times 1\)</span></p>
<ul>
<li>Premultiplicamos entonces el modelo con efectos aleatorios para obtener uno que tenga como matriz de varianzas <span class="math inline">\(\sigma^2_{\varepsilon}I_T\)</span>, es decir, que sea homoscedástico</li>
</ul>
</section>
<section id="propiedades-del-estimador-de-efectos-aleatorios" class="slide level2">
<h2>Propiedades del estimador de efectos aleatorios</h2>
<ul>
<li><p>El estimador de efectos es consistente si <span class="math inline">\(NT\to\infty\)</span>, lo cual requiere que <span class="math inline">\(N\to\infty\)</span> o <span class="math inline">\(T\to\infty\)</span> (o ambos)</p></li>
<li><p>Con paneles cortos, es natural requerir suficientes individuos en la muestra</p></li>
<li><p>Por otro lado, CT proveen dos expresiones para las matrices de varianza en los casos de homocedasticidad (es decir, si <span class="math inline">\(\varepsilon_{it}\)</span> y <span class="math inline">\(\alpha_i\)</span> son iid) y para el caso general donde donde se permite heterocedasticidad y autocorrelación de <span class="math inline">\(\varepsilon_{it}\)</span></p></li>
</ul>
</section></section>
<section>
<section id="modelo-agrupado-o-pooled" class="title-slide slide level1 center">
<h1>Modelo agrupado o <em>pooled</em></h1>

</section>
<section id="modelo-agrupado-o-pooled-1" class="slide level2">
<h2>Modelo agrupado o <em>pooled</em></h2>
<ul>
<li>Si asumimos coeficientes constantes, como en sección cruzada</li>
</ul>
<p><span class="math display">\[y_{it}=\alpha+x_{it}'\beta+u_{it}\]</span> tenemos lo que se conoce como modelo pooled o de <strong>coeficientes constantes</strong></p>
<ul>
<li><p>Este modelo no explota la estructura del panel</p></li>
<li><p>El modelo es correcto si los regresores no están correlacionados con el errror</p></li>
<li><p>Podemos estimar consistemente <span class="math inline">\(\beta\)</span> por MCO</p></li>
<li><p>Los errores estándar deben tomar en cuenta la correlación serial</p></li>
<li><p>Si estamos dispuestos a asumir un modelo pooled, debemos al menos estimar un modelo de MCO con errores robustos agrupados <strong>a nivel individual</strong></p></li>
</ul>
</section></section>
<section>
<section id="efectos-fijos-o-efectos-aleatorios" class="title-slide slide level1 center">
<h1>¿Efectos fijos o efectos aleatorios?</h1>

</section>
<section id="qué-estimador-usar" class="slide level2">
<h2>¿Qué estimador usar?</h2>
<ul>
<li><p>Si el modelo asumido es de efectos fijos</p>
<ul>
<li><p>Solo el estimador within o de primeras diferencias es consistente</p></li>
<li><p>Estimadores de efectos aleatorios y pooled son inconsistentes</p></li>
</ul></li>
<li><p>Si el modelo asumido es de efectos aleatorios</p>
<ul>
<li>El estimador de efectos aleatorios y el estimador pooled son consistentes, pero el estimador de efectos aleatorios es más eficiente</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="prueba-de-hausman" class="title-slide slide level1 center">
<h1>Prueba de Hausman</h1>

</section>
<section id="prueba-de-hausman-1" class="slide level2">
<h2>Prueba de Hausman</h2>
<ul>
<li><p>Una prueba de Hausman compara dos estimadores, uno consistente bajo la <span class="math inline">\(H_0\)</span> y otro que no lo es</p></li>
<li><p>Si los efectos individuales son efectos fijos correlaciondos con el error, el estimador within es consistente y el de efectos aleatorios no lo es</p></li>
<li><p>La <span class="math inline">\(H_0\)</span> es que los efectos fijos no están correlacionados con el error</p></li>
<li><p>Si se rechaza la <span class="math inline">\(H_0\)</span>, existe evidencia en favor de usar un estimador de efectos fijos</p></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>