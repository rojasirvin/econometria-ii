<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Econometría II 2024 - Respuestas a la tarea 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Respuestas a la tarea 2</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../iconoEconometria.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/rojasirvin/econometria-ii" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../programa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programa</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reglas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reglas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lecturas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecturas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentaciones.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentaciones</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cronograma.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cronograma</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tareas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tareas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../diapositivas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diapositivas</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#respuestas" id="toc-respuestas" class="nav-link active" data-scroll-target="#respuestas">Respuestas</a>
  <ul class="collapse">
  <li><a href="#pregunta-1" id="toc-pregunta-1" class="nav-link" data-scroll-target="#pregunta-1">Pregunta 1</a></li>
  <li><a href="#pregunta-2" id="toc-pregunta-2" class="nav-link" data-scroll-target="#pregunta-2">Pregunta 2</a></li>
  <li><a href="#pregunta-3-modelo-poisson-inflado-en-cero" id="toc-pregunta-3-modelo-poisson-inflado-en-cero" class="nav-link" data-scroll-target="#pregunta-3-modelo-poisson-inflado-en-cero">Pregunta 3: modelo Poisson inflado en cero</a></li>
  <li><a href="#pregunta-4" id="toc-pregunta-4" class="nav-link" data-scroll-target="#pregunta-4">Pregunta 4</a></li>
  <li><a href="#pregunta-5" id="toc-pregunta-5" class="nav-link" data-scroll-target="#pregunta-5">Pregunta 5</a></li>
  <li><a href="#pregunta-6" id="toc-pregunta-6" class="nav-link" data-scroll-target="#pregunta-6">Pregunta 6</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Respuestas a la tarea 2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="respuestas" class="level1">
<h1>Respuestas</h1>
<section id="pregunta-1" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-1">Pregunta 1</h2>
<p>Use los datos en el archivo <em>motral2012.csv</em>, que incluye una muestra de individuos con sus características socioeconómicas. Nos interesa conocer los factores que afectan la probabilidad de que los individuos tengan ahorros formales. Considere lo siguiente sobre las opciones de ahorro de los entrevistados, contenida en la variable <strong>p14</strong>:</p>
<ul>
<li><strong>p14</strong> igual a 1 significa cuentas de ahorro bancarias</li>
<li><strong>p14</strong> igual a 2 significa cuenta de inversión bancaria</li>
<li><strong>p14</strong> igual a 3 significa inversiones en bienes raíces</li>
<li><strong>p14</strong> igual a 4 significa caja de ahorro en su trabajo</li>
<li><strong>p14</strong> igual a 5 significa caja de ahorro con sus amigos</li>
<li><strong>p14</strong> igual a 6 significa tandas</li>
<li><strong>p14</strong> igual a 7 significa que ahorra en su casa o alcancías</li>
<li><strong>p14</strong> igual a 8 significa otro lugar</li>
<li><strong>p14</strong> NA significa que no ahorra</li>
</ul>
<ol type="a">
<li><p>[2 puntos] Comience generando una variable binaria <strong>ahorra_inf</strong> que tome el valor de 1 para las personas que ahorran en instrumentos informales y 0 en otro caso. Se consideran instrumentos informales las cajas de ahorro en el trabajo o amigos, las tandas y el ahorro en casa o alcancías . Construya también la variable <strong>mujer</strong> que tome el valor de 1 cuando <strong>sex</strong> toma el valor de 2 y 0 en otro caso. Luego, estime un modelo de probabilidad lineal que relacione <strong>ahorra_inf</strong> como variable dependiente con <strong>eda</strong> (edad), <strong>anios_esc</strong> (años de escolaridad) y <strong>mujer</strong>. Reporte los errores que asumen homocedasticidad y los errores robustos a heteroscedasticidad. ¿Qué observa respecto a los errores y por qué sucede?</p>
<p><em>Generamos variables:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>data.financiero <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../files/motral2012.csv"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"latin1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorra_inf =</span> <span class="fu">case_when</span>(p14 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                                <span class="at">.default =</span> <span class="dv">0</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">mujer=</span><span class="fu">ifelse</span>(sex<span class="sc">==</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Estimamos el modelo lineal y obtenemos la matriz de varianzas robusta usando vcovHC:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg.lineal <span class="ot">&lt;-</span> <span class="fu">lm</span>(ahorra_inf <span class="sc">~</span> eda <span class="sc">+</span> anios_esc <span class="sc">+</span> mujer,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> data.financiero))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = ahorra_inf ~ eda + anios_esc + mujer, data = data.financiero)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.3365 -0.2580 -0.1844 -0.1092  0.9467 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  0.4519266  0.0254686  17.744   &lt;2e-16 ***
eda         -0.0063753  0.0005491 -11.610   &lt;2e-16 ***
anios_esc   -0.0006780  0.0012186  -0.556    0.578    
mujer       -0.0006674  0.0113305  -0.059    0.953    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.4107 on 5260 degrees of freedom
Multiple R-squared:  0.02507,    Adjusted R-squared:  0.02452 
F-statistic: 45.09 on 3 and 5260 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Matriz robusta</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>v_rob <span class="ot">&lt;-</span> <span class="fu">vcovHC</span>(reg.lineal, <span class="at">type =</span> <span class="st">"HC0"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>se_rob    <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">diag</span>(v_rob))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Presentamos usando modelsummary.</em></p>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(reg.lineal, reg.lineal),</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">c</span>(<span class="st">"iid"</span>, <span class="st">"HC0"</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'*'</span><span class="ot">=</span>.<span class="dv">1</span>, <span class="st">'**'</span><span class="ot">=</span>.<span class="dv">05</span>, <span class="st">'***'</span><span class="ot">=</span>.<span class="dv">01</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_je4k9ncycm5363q2aswf</title>
    <style>
.table td.tinytable_css_1sodch248f65f5xllgds, .table th.tinytable_css_1sodch248f65f5xllgds {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_3wzxvk3y50dh8o2mpkye, .table th.tinytable_css_3wzxvk3y50dh8o2mpkye {    text-align: left; }
.table td.tinytable_css_4kgb9w6rpdt0dk8ufjl4, .table th.tinytable_css_4kgb9w6rpdt0dk8ufjl4 {    text-align: center; }
.table td.tinytable_css_2y6a1obxtpeob4gwj2cs, .table th.tinytable_css_2y6a1obxtpeob4gwj2cs {    text-align: center; }
.table td.tinytable_css_1pm7xm3qv92q0cksccx8, .table th.tinytable_css_1pm7xm3qv92q0cksccx8 {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_je4k9ncycm5363q2aswf" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="3">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>0.452*** </td>
                  <td>0.452*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.025)  </td>
                  <td>(0.029)  </td>
                </tr>
                <tr>
                  <td>eda        </td>
                  <td>-0.006***</td>
                  <td>-0.006***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.001)  </td>
                  <td>(0.001)  </td>
                </tr>
                <tr>
                  <td>anios_esc  </td>
                  <td>-0.001   </td>
                  <td>-0.001   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.001)  </td>
                  <td>(0.002)  </td>
                </tr>
                <tr>
                  <td>mujer      </td>
                  <td>-0.001   </td>
                  <td>-0.001   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.011)  </td>
                  <td>(0.011)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>5264     </td>
                  <td>5264     </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.025    </td>
                  <td>0.025    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.025    </td>
                  <td>0.025    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>5575.3   </td>
                  <td>5575.3   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>5608.1   </td>
                  <td>5608.1   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-2782.626</td>
                  <td>-2782.626</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>45.091   </td>
                  <td>46.854   </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>0.41     </td>
                  <td>0.41     </td>
                </tr>
                <tr>
                  <td>Std.Errors </td>
                  <td>IID      </td>
                  <td>HC0      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_6yskl12ltgtptk8abp2q(i, j, css_id) {
        var table = document.getElementById("tinytable_je4k9ncycm5363q2aswf");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_je4k9ncycm5363q2aswf');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_6yskl12ltgtptk8abp2q(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_je4k9ncycm5363q2aswf");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 0, 'tinytable_css_1sodch248f65f5xllgds') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 1, 'tinytable_css_1sodch248f65f5xllgds') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 2, 'tinytable_css_1sodch248f65f5xllgds') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(1, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(2, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(3, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(4, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(5, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(6, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(7, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(9, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(10, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(11, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(12, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(13, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(14, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(15, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(16, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(17, 0, 'tinytable_css_3wzxvk3y50dh8o2mpkye') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(1, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(2, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(3, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(4, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(5, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(6, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(7, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(9, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(10, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(11, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(12, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(13, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(14, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(15, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(16, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(17, 1, 'tinytable_css_4kgb9w6rpdt0dk8ufjl4') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(0, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(1, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(2, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(3, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(4, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(5, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(6, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(7, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(9, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(10, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(11, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(12, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(13, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(14, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(15, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(16, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(17, 2, 'tinytable_css_2y6a1obxtpeob4gwj2cs') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 0, 'tinytable_css_1pm7xm3qv92q0cksccx8') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 1, 'tinytable_css_1pm7xm3qv92q0cksccx8') })
window.addEventListener('load', function () { styleCell_tinytable_6yskl12ltgtptk8abp2q(8, 2, 'tinytable_css_1pm7xm3qv92q0cksccx8') })
    </script>

  


<p><em>En en problema binario, la media condicional está bien planteada. Y dado que la densidad pertenece a la familia lineal exponencial, basta con que la media condicional esté bien planteada para la consistencia de <span class="math inline">\(\beta\)</span>. Sin embargo, en el caso de los modelos binarios, la varianza condicional también está siempre bien planteada, pues <span class="math inline">\(V(y)=p(1-p)\)</span>. Esto implica que no hay ninguna ganancia en usar la matriz de varianzas robustas. Ver CT, p.&nbsp;469 para una discusión.</em></p></li>
<li><p>[3 puntos] ¿Cuál es el efecto en la probabilidad de ahorrar informalmente si los años de educación se incrementan en una unidad, pasando de 4 a 5 años de educación?</p>
<p><em>Una reducción de 0.1 puntos porcentuales (0.001/100), estadísticamente no significativa.</em></p></li>
<li><p>[2 puntos] Realice una prueba de significancia conjunta de <strong>eda</strong> y <strong>anios_esc</strong>. ¿Qué concluye?</p>
<p><em>Podemos usar la función linearHypothesis:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">linearHypothesis</span>(reg.lineal, <span class="fu">c</span>(<span class="st">"eda=0"</span>, <span class="st">"anios_esc=0"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear hypothesis test

Hypothesis:
eda = 0
anios_esc = 0

Model 1: restricted model
Model 2: ahorra_inf ~ eda + anios_esc + mujer

  Res.Df    RSS Df Sum of Sq      F    Pr(&gt;F)    
1   5262 909.91                                  
2   5260 887.14  2    22.773 67.512 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><em>Concluimos que no hay evidencia para afirmar que <span class="math inline">\(\beta_{eda}=\beta_{anios\_esc}=0\)</span>.</em></p></li>
<li><p>[3 puntos] Estime un modelo logit relacionando las mismas variables. Use la función <em>avg_slopes</em> del paquete <em>marginaleffects</em> para obtener los efectos marginales promedio de un cambio en cada uno de los regresores. ¿Por qué difiere la magnitud de este efecto marginal con respecto a la parte b.?</p>
<p><em>Estimamos el modelo probit:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>reg.logit <span class="ot">&lt;-</span> <span class="fu">glm</span>(ahorra_inf <span class="sc">~</span> eda <span class="sc">+</span> anios_esc <span class="sc">+</span> mujer,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"logit"</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> data.financiero)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg.logit)<span class="sc">$</span>coef</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                Estimate  Std. Error      z value     Pr(&gt;|z|)
(Intercept)  0.081021587 0.150793629   0.53730113 5.910596e-01
eda         -0.038339619 0.003385824 -11.32357193 1.003001e-29
anios_esc   -0.003787198 0.007627194  -0.49653889 6.195143e-01
mujer       -0.001539617 0.067250054  -0.02289392 9.817349e-01</code></pre>
</div>
</div>
<p><em>Noten que el signo de los coeficientes coinciden con el promedio de los efectos marginales:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">avg_slopes</span>(reg.logit)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term Contrast  Estimate Std. Error        z Pr(&gt;|z|)     S    2.5 %
 anios_esc    dY/dX -0.000638   0.001285  -0.4966    0.619   0.7 -0.00316
 eda          dY/dX -0.006459   0.000554 -11.6533   &lt;0.001 101.8 -0.00755
 mujer        1 - 0 -0.000259   0.011331  -0.0229    0.982   0.0 -0.02247
   97.5 %
  0.00188
 -0.00537
  0.02195

Columns: term, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high 
Type:  response </code></pre>
</div>
</div>
<p><em>El promedio del efecto marginal de un cambio en los años de educación es de una reducción de 0.06 puntos porcentuales.</em></p></li>
<li><p>[2 puntos] Ahora estime el efecto marginal en la media para <strong>eda</strong> y <strong>anios_esc</strong> y para los hombres, usando la función <em>slopes</em>. ¿Por qué difiere la magnitud de este efecto marginal respecto a la parte b. y la d.?</p>
<p><em>Para obtener los efectos marginales evaluados en algún valor <span class="math inline">\(X_i\)</span> de los covariables, debemos especificar estos valores usando datagrid:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">avg_slopes</span>(reg.logit,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">newdata =</span> <span class="fu">datagrid</span>(<span class="at">eda =</span> <span class="fu">mean</span>(data.financiero<span class="sc">$</span>eda),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">anios_esc =</span> <span class="fu">mean</span>(data.financiero<span class="sc">$</span>anios_esc),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">mujer =</span> <span class="dv">1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Term Contrast  Estimate Std. Error        z Pr(&gt;|z|)    S    2.5 %
 anios_esc    dY/dX -0.000639   0.001287  -0.4963    0.620  0.7 -0.00316
 eda          dY/dX -0.006465   0.000575 -11.2472   &lt;0.001 95.1 -0.00759
 mujer        1 - 0 -0.000260   0.011346  -0.0229    0.982  0.0 -0.02250
   97.5 %
  0.00188
 -0.00534
  0.02198

Columns: term, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high 
Type:  response </code></pre>
</div>
</div>
<p><em>El efecto marginal de un cambio en los años de escolaridad evaluados en la media de los años de educación y edad, para las mujeres, es de -0.06 puntos. Esto difiere del modelo lineal porque en el modelo lineal los efectos marginales son constantes, mientras que los efectos marginal del modelo no lineal dependen del punto de evaluación. También difiere de los efectos marginales promedio pues aquí solo hemos calculado el efecto marginal una sola vez, para un valor <span class="math inline">\(X_i\)</span>, mientras que el promedio de efectos marginales implica calcular el efecto marginal para cada individuo y luego obtener el promedio.</em></p>
<p><em>En clase les pregunté cómo estimarían el error estándar de los cambios marginales y brevemente mencioné que una forma muy usada es el Método Delta, el cual se basa en que los efectos marginales son funciones no lineales de los parámetros. Esto es lo que efectivamente se usa en la función avg_slopes para obtener los errores estándar y los intervalos de confianza. <a href="https://marginaleffects.com/articles/uncertainty.html">Aquí</a> pueden leer al respecto.</em></p></li>
<li><p>[3 puntos] Provea una expresión para la maginitud de:</p></li>
</ol>
<p><span class="math display">\[\frac{\frac{\partial P(y=1)}{\partial \; anios\_esc}}{\frac{\partial P(y=1)}{\partial \; eda}}\]</span></p>
<p><em>La razón de efectos marginales es la razón de coeficientes:</em></p>
<p><span class="math display">\[\frac{\frac{\partial P(y=1)}{\partial \; anios\_esc}}{\frac{\partial P(y=1)}{\partial \; eda}}=\frac{\beta_{anios\_esc}}{\beta_{eda}}=\frac{0.0038 }{0.0383}\]</span></p>
</section>
<section id="pregunta-2" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-2">Pregunta 2</h2>
<p>Ahora estimará un modelo multinomial empleando los mismos datos en <em>motral2012.csv</em>. El propósito será ahora estudiar los factores relevantes para predecir la forma de ahorro que tienen las personas que ahorran.</p>
<ol type="a">
<li><p>[2 puntos] Genere una variable categórica llamada <strong>ahorro</strong> que sea igual a 1 cuando <strong>p14</strong> sea igual a 1 o 2, igual a 2 cuando <strong>p14</strong> sea igual a 7, e igual a 3 cuando <strong>p14</strong> sea igual a 3, 4, 5, 6 u 8. Haga que esa variable sea missing cuando <strong>p14</strong> sea missing. Posteriormente, convierta esta nueva variable en una de factores de forma que el valor 1 tenga la etiqueta “Banco”, el valor 2 tenga la etiqueta “Casa” y el valor 3 tenga la etiqueta “Otro”.</p>
<p><em>Construimos la variable dependiente:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data.financiero <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../files/motral2012.csv"</span>,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"latin1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro=</span><span class="cn">NA</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro=</span><span class="fu">ifelse</span>(p14<span class="sc">%in%</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dv">1</span>,ahorro)) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro=</span><span class="fu">ifelse</span>(p14<span class="sc">==</span><span class="dv">7</span>,<span class="dv">2</span>,ahorro)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro=</span><span class="fu">ifelse</span>(p14<span class="sc">%in%</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>),<span class="dv">3</span>,ahorro)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro=</span><span class="fu">factor</span>(ahorro,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Banco"</span>,<span class="st">"Casa"</span>,<span class="st">"Otro"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mujer=</span><span class="fu">ifelse</span>(sex<span class="sc">==</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>[4 puntos] Estime un modelo logit multinomial (regresores invariantes a la alternativa) con la opción de ahorro como variable dependiente y los mismos regresores de la pregunta 1. Hay varios paquetes para hacer esto, pero recomiendo usar la función <em>multinom</em> del paquete <em>nnet</em>. ¿Qué puede decir sobre el coeficiente de años de educación en la alternativa “Casa”?</p>
<p><em>Usamos multinom para estimar el modelo logit multinomial:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>multilogit <span class="ot">&lt;-</span> nnet<span class="sc">::</span><span class="fu">multinom</span>(ahorro<span class="sc">~</span> eda <span class="sc">+</span> anios_esc <span class="sc">+</span> mujer,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">data=</span>data.financiero)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># weights:  15 (8 variable)
initial  value 2727.854313 
iter  10 value 2546.085070
final  value 2545.712541 
converged</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(multilogit)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
nnet::multinom(formula = ahorro ~ eda + anios_esc + mujer, data = data.financiero)

Coefficients:
     (Intercept)          eda   anios_esc       mujer
Casa    3.026880 -0.052310196 -0.14829719  0.09265405
Otro    0.206704 -0.003501367 -0.04628175 -0.06459305

Std. Errors:
     (Intercept)         eda  anios_esc      mujer
Casa   0.2487107 0.005207439 0.01355319 0.09956544
Otro   0.2476498 0.004964123 0.01285100 0.09995715

Residual Deviance: 5091.425 
AIC: 5107.425 </code></pre>
</div>
</div>
<p><em>En el logit multinominal (regresores invariantes) el coeficiente se interpreta con respecto a una categoría base. En este caso, la categoría base es Banco. El modelo implica que la probabilidad de ahorrar en casa disminuye con un año más de educación, en comparación con la probabilidad de ahorrar en el banco. En particular, sabemos que podemos escribir el log del cociente de la probabilidad de las categorías <span class="math inline">\(j\)</span> y <span class="math inline">\(k\)</span> sean escogidas, normalizando <span class="math inline">\(k\)</span> a ser la base, como:</em></p>
<p><span class="math display">\[\ln\left(\frac{P(y=Casa)}{P(y=Banco)}\right)=x'\beta=\beta_0+\beta_1 edad + \beta_2 educación + \beta_3 mujer \]</span></p>
<p><em>Es decir, un año más de educación se asocia con una reducción en el log de la razón de momios de 0.15.</em></p></li>
<li><p>[4 puntos] Calcule los efectos marginales promedio sobre la probabilidad de ahorrar en el banco. Al considerar el cambio en la probabilidad para el caso de las mujeres (cuando la variable <strong>mujer</strong> pasa de 0 a 1), ¿de qué tamaño es el efecto predicho en la probabilidad de ahorrar en el banco?</p>
<p><em>Usamos avg_slopes</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">avg_slopes</span>(multilogit)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Group      Term Contrast Estimate Std. Error       z Pr(&gt;|z|)    S    2.5 %
 Banco anios_esc    dY/dX  0.02285   0.002381   9.595   &lt;0.001 70.0  0.01818
 Banco eda          dY/dX  0.00657   0.000935   7.027   &lt;0.001 38.8  0.00474
 Banco mujer        1 - 0 -0.00343   0.019432  -0.177    0.860  0.2 -0.04152
 Casa  anios_esc    dY/dX -0.02512   0.002231 -11.262   &lt;0.001 95.3 -0.02949
 Casa  eda          dY/dX -0.00982   0.000860 -11.422   &lt;0.001 98.0 -0.01151
 Casa  mujer        1 - 0  0.02271   0.017662   1.286    0.199  2.3 -0.01191
 Otro  anios_esc    dY/dX  0.00228   0.002174   1.046    0.295  1.8 -0.00199
 Otro  eda          dY/dX  0.00325   0.000842   3.863   &lt;0.001 13.1  0.00160
 Otro  mujer        1 - 0 -0.01927   0.017549  -1.098    0.272  1.9 -0.05367
   97.5 %
  0.02751
  0.00840
  0.03465
 -0.02075
 -0.00814
  0.05732
  0.00654
  0.00490
  0.01512

Columns: term, group, contrast, estimate, std.error, statistic, p.value, s.value, conf.low, conf.high 
Type:  probs </code></pre>
</div>
</div>
<p><em>El efecto de ser mujer es de una reducción de 0.3 puntos en la probabilidad de ahorrar en el banco al estimar el promedio de los efectos marginales.</em></p></li>
<li><p>[3 puntos] Calcule los cocientes de riesgo relativo (<em>relative risk ratios</em> o RRR). ¿Qué significa el hecho de que el RRR asociado a ser mujer sea mayor que 1 en la alternativa “Casa”?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">multilogit_rrr =</span> <span class="fu">exp</span>(<span class="fu">coef</span>(multilogit)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     (Intercept)       eda anios_esc     mujer
Casa   20.632752 0.9490344 0.8621748 1.0970821
Otro    1.229619 0.9965048 0.9547729 0.9374489</code></pre>
</div>
</div>
<p><em>Los coeficientes en forma de RRR tienen la interpretación del cambio en el riesgo relativo que una categoría sea elegida con relación al riesgo de escoger la categoría base. En este caso, el ser mujer está asociado con una probabilidad de ahorrar en “Casa” 1.097 veces mayor de que la de ahorrar en “Banco”.</em></p></li>
<li><p>[2 puntos] Estime nuevamente el modelo, pero ahora, especifique que la alternativa “Casa” sea la alternativa base. ¿Cómo es el RRR de la edad en la alternativa “Banco”? ¿Es esto congruente con lo que obtuvo en la parte d.&nbsp;de esta pregunta?</p>
<p><em>Primero tenemos que cambiar la base. Para esto hacemos uso de que ahorro es una variable de factores. Luego estimamos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>data.financiero <span class="ot">&lt;-</span> data.financiero <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ahorro =</span> <span class="fu">relevel</span>(ahorro, <span class="at">ref =</span> <span class="st">"Casa"</span>))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>multilogit2 <span class="ot">&lt;-</span> nnet<span class="sc">::</span><span class="fu">multinom</span>(ahorro <span class="sc">~</span> eda <span class="sc">+</span> anios_esc <span class="sc">+</span> mujer,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">data=</span>data.financiero)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># weights:  15 (8 variable)
initial  value 2727.854313 
iter  10 value 2552.696634
final  value 2545.712541 
converged</code></pre>
</div>
</div>
<p><em>Obtenemos el RRR:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">multilogit2_rrr =</span> <span class="fu">exp</span>(<span class="fu">coef</span>(multilogit2)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      (Intercept)      eda anios_esc     mujer
Banco  0.04846638 1.053703  1.159857 0.9115111
Otro   0.05959489 1.050020  1.107401 0.8544952</code></pre>
</div>
</div>
<p><em>Al cambiar la categoría base a Casa solo se modifica la interpretación relativa. En la parte d.&nbsp;el RRR de la edad para la opción de Casa era 0.949, es decir, si la edad se incrementa en una unidad, la probabilidad de ahorrar en Casa es 0.949 veces la de ahorrar en Banco. Con la nueva categoría base, el RRR de la edad para ahorrar en Banco es 1.054, es decir, si la edad se incrementa en un año, la probabilidad de ahorrar en Banco es 1.054 veces más probable que la probabilidad de ahorrar en Casa. La parte d.&nbsp;implica que <span class="math inline">\(P(Casa)=0.949(Banco)\)</span>. Mientras que estimando el modelo con la nueva categoría, <span class="math inline">\(P(Banco)=1.054(Casa)\)</span>, o <span class="math inline">\(P(Casa)=1/1.054(Banco)\)</span>. Empleando todos los decimales en R se puede notar que 1/1.054≅0.949 Ambos resultados son consistentes.</em></p></li>
</ol>
</section>
<section id="pregunta-3-modelo-poisson-inflado-en-cero" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-3-modelo-poisson-inflado-en-cero">Pregunta 3: modelo Poisson inflado en cero</h2>
<p>Otra manera de resolver el problema del exceso de ceros que a veces nos molesta en los modelos Poisson es usar un modelo Poisson inflado en cero (CT, p.&nbsp;681). La idea es introducir un proceso binario con densidad <span class="math inline">\(f_1(\cdot)\)</span> para modelar la probabilidad de que <span class="math inline">\(y=0\)</span> y luego una densidad de conteo <span class="math inline">\(f_2(\cdot)\)</span>. Si el proceso binario toma el valor de 0, con probabilidad <span class="math inline">\(f_1(0)\)</span>, entonces <span class="math inline">\(y=0\)</span>, pero si el proceso binario toma el valor de 1, entonces <span class="math inline">\(y={0,1,2,\ldots}\)</span>. Note que podemos entonces observar ceros por dos razones, por el proceso binomial o por el conteo.</p>
<p>Un modelo inflado en cero tendrá como densidad:</p>
<p><span class="math display">\[
g(y)=
\begin{cases}
f_1(0)+(1-f_1(0))f_2(0) &amp; \text{si }y=0 \\
(1-f_1(0))f_2(y)&amp; \text{si }y\geq 1
\end{cases}
\]</span></p>
<p>Considere la variable aleatoria <span class="math inline">\(Y\)</span> con observaciones iid que sigue una distribución Poisson con parámetro <span class="math inline">\(\lambda\)</span>. Y considere una variable un proceso binomial tal que <span class="math inline">\(\pi\)</span> es la probabilidad de que el conteo no se realice. Entonces:</p>
<p><span class="math display">\[
g(y)=
\begin{cases}
\pi+(1-\pi)f_2(0) &amp; \text{si }y=0 \\
(1-\pi)f_2(y)&amp; \text{si }y\geq 1
\end{cases}
\]</span></p>
<ol type="a">
<li><p>[4 puntos] Termine de especializar la expresión anterior unsando la distribución Poisson para <span class="math inline">\(f_2(\cdot)\)</span> para obtener la función de masa de probabilidad del modelo Poisson inflado en cero <span class="math inline">\(g(y|\lambda, \pi)\)</span>.</p>
<p><em>En el caso particular de un modelo Poisson, sabemos que <span class="math inline">\(f_2(0)=P(Y=0)=exp(-\lambda)\)</span>. Definiendo la probabilidad de observar un conteo cero como <span class="math inline">\(\pi\)</span>, la función de masa de probabilidad del modelo inflado en cero es:</em></p>
<p><span class="math display">\[g(y)=
\begin{cases}
\pi+(1-\pi)exp(-\lambda) \quad\text{si }y=0 \\
(1-\pi)\frac{\lambda^y exp(-\lambda)}{y!} \quad\text{si } y \geq1 \\
\end{cases}
\]</span></p></li>
<li><p>[5 puntos] Provea una expresión para la función de verosimilitud <span class="math inline">\(L(\lambda,\pi)=\prod_{i=1}^N g(y_i|\lambda, \pi)\)</span>. Una sugerencia para simplificar sus cálculos es definir una variable <span class="math inline">\(X\)</span> igual al numero de veces que <span class="math inline">\(Y_i\)</span> que toma el valor de cero.</p>
<p><em>La función de verosimilitud del problema es:</em></p>
<p><span class="math display">\[L(\pi,\lambda,y_i)=\prod_i P(Y_i=y_i)\]</span></p>
<p><em>Con las formas específicas para el modelo Poisson inflado en cero:</em></p>
<p><span class="math display">\[L(\pi,\lambda,y_i)=\prod_{i\in y_i=0}\left(\pi+(1-\pi)exp(-\lambda) \right) \prod_{i\in y_i&gt;0}\left((1-\pi)\frac{\lambda^{y_i} exp(-\lambda)}{y!}\right)\]</span></p>
<p><em>Haciendo <span class="math inline">\(X\)</span> el número de veces que <span class="math inline">\(y_i\)</span> toma el valor de cero, el primer producto es <span class="math inline">\(\left(\pi+(1-\pi)exp(-\lambda) \right)\)</span> elevado a la potencia <span class="math inline">\(X\)</span>.</em></p>
<p><em>¿Cuántos términos distintos de cero quedan? Quedan <span class="math inline">\(n-X\)</span>. El segundo producto en la verosimilitud es:</em></p>
<p><span class="math display">\[\left((1-\pi)exp(-\lambda)\right)^{n-X}\frac{\lambda^{\sum_i y_i}}{\prod_{i\in y_i&gt;0} y!}\]</span></p>
<p><em>La verosimilitud es por tanto:</em></p>
<p><span class="math display">\[L(\pi,\lambda,y_i)=\left(\pi+(1-\pi)exp(-\lambda) \right)^X \left((1-\pi)exp(-\lambda)\right)^{n-X}\frac{\lambda^{\sum_i y_i}}{\prod_{i\in y_i&gt;0} y!}\]</span></p></li>
<li><p>[3 puntos] Provea una expresión para la log verosimilitud del problema, <span class="math inline">\(\mathcal{L}(\lambda,\pi)\)</span>.</p>
<p><em>Dada la verosimilitud planteada en la parte anterior, la log verosimilitud es:</em></p>
<p><span class="math display">\[\mathcal{L}(\pi,\lambda,y_i)=X\ln \left(\pi+(1-\pi)exp(-\lambda) \right)+(n-X)\ln(1-\pi)-(n-X)\lambda+n\bar{Y}\ln (\lambda)- \ln\left(\prod_{i\in y_i&gt;0} y! \right)\]</span></p></li>
<li><p>[3 puntos] Obtenga las condiciones de primer orden que caracterizan la solución del problema de máxima verosimilitud, derivando la log verosimilitud con respecto a <span class="math inline">\(\lambda\)</span> y a <span class="math inline">\(\pi\)</span>.</p>
<p><em>Tenemos dos parámetros, así que tenemos dos condiciones de primer orden. Derivando la log verosimilitud con respecto a <span class="math inline">\(\pi\)</span> obtenemos:</em></p>
<p><span class="math display">\[\frac{\partial \mathcal{L}}{\partial \pi}=\frac{X}{\pi+(1-\pi)exp(-\lambda)}(1-exp(-\lambda))-\frac{n-X}{1-\pi}=0\]</span></p>
<p><em>La primer condición (A) es:</em></p>
<p><span class="math display">\[\frac{X(1-exp(-\lambda))(1-\pi)}{\pi+(1-\pi)exp(-\lambda)}=n-X\quad\quad\ldots(A)\]</span></p>
<p><em>Ahora derivando la log verosimilitud con respecto a <span class="math inline">\(\lambda\)</span>:</em></p>
<p><span class="math display">\[\frac{\partial \mathcal{L}}{\partial \lambda}=-\frac{X}{\pi+(1-\pi)exp(-\lambda)}(1-\pi)exp(-\lambda)-(n-X)+\frac{n\bar{Y}}{\lambda}=0\]</span></p>
<p><em>La segunda condición (B) es:</em></p>
<p><span class="math display">\[\frac{X(1-\pi)exp(-\lambda)}{\pi+(1-\pi)exp(-\lambda)}+(n-X)=\frac{n\bar{Y}}{\lambda}\quad\quad\ldots(B)\]</span></p>
<p><em><span class="math inline">\((\hat{\pi}_{MV},\hat{\lambda}_{MV})\)</span> son los valores de los parámetros que resulven el sistema dado por (A) y (B).</em></p></li>
</ol>
</section>
<section id="pregunta-4" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-4">Pregunta 4</h2>
<p>Use los datos <em>phd_articulos.csv</em>, los cuales contienen información sobre el número de artículos publicados para una muestra de entonces estudiantes de doctorado. Nuestra variable de interés será el número de artículos <strong>art</strong>.</p>
<ol type="a">
<li><p>[4 puntos] Estime un modelo Poisson que incluya variables dicotómicas para estudiantes mujeres (<strong>female</strong>) y para estudiantes casadas o casados (<strong>married</strong>), el número de hijos mejores de cinco años (<strong>kid5</strong>), el ranking de prestigio del doctorado (<strong>phd</strong>) y el número de artículos publicados por su mentor (<strong>mentor</strong>). Realice la estimación de la matriz de varianzas primero a partir de la varianza teórica que resulta de la igualdad de la matriz de información y luego usando una matriz de sándwich. Interprete los coeficientes estimados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data.phd<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"../files/phd_articulos.csv"</span>,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span>                <span class="st">"latin1"</span>))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>data.phd <span class="ot">&lt;-</span> data.phd <span class="sc">%&gt;%</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">female=</span><span class="fu">factor</span>(female,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'Male'</span>,<span class="st">'Female'</span>)))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>mpoisson <span class="ot">&lt;-</span> <span class="fu">glm</span>(art <span class="sc">~</span> <span class="fu">factor</span>(female) <span class="sc">+</span> <span class="fu">factor</span>(married) <span class="sc">+</span> kid5 <span class="sc">+</span> phd <span class="sc">+</span> mentor,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">family=</span><span class="st">"poisson"</span>,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">data=</span>data.phd)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mpoisson)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = art ~ factor(female) + factor(married) + kid5 + 
    phd + mentor, family = "poisson", data = data.phd)

Coefficients:
                       Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)            0.459860   0.093335   4.927 8.35e-07 ***
factor(female)Female  -0.224594   0.054613  -4.112 3.92e-05 ***
factor(married)Single -0.155243   0.061374  -2.529   0.0114 *  
kid5                  -0.184883   0.040127  -4.607 4.08e-06 ***
phd                    0.012823   0.026397   0.486   0.6271    
mentor                 0.025543   0.002006  12.733  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 1817.4  on 914  degrees of freedom
Residual deviance: 1634.4  on 909  degrees of freedom
AIC: 3314.1

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</div>
<p><em>Presentamos errores heterocedásticos y robustos a la heterocedasticidad. Aquí les muestro otro paquete que puede servirles para presentar resultados en trabajos y tesinas, alterntivo a stargazer, modelsummary:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(mpoisson, mpoisson),</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'robust'</span>),</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_c69u71kdxs6dya8b76p9</title>
    <style>
.table td.tinytable_css_lmr0cvjhzo1g129rc256, .table th.tinytable_css_lmr0cvjhzo1g129rc256 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_8x8r7e1kuwlghoyxz8rb, .table th.tinytable_css_8x8r7e1kuwlghoyxz8rb {    text-align: left; }
.table td.tinytable_css_u2jhtk92y21pxqmfc0od, .table th.tinytable_css_u2jhtk92y21pxqmfc0od {    text-align: center; }
.table td.tinytable_css_6bktyh288mxulc3z6p2w, .table th.tinytable_css_6bktyh288mxulc3z6p2w {    text-align: center; }
.table td.tinytable_css_n17l37msulardi1tklrd, .table th.tinytable_css_n17l37msulardi1tklrd {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_c69u71kdxs6dya8b76p9" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="3">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)          </td>
                  <td>0.460*** </td>
                  <td>0.460*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.093)  </td>
                  <td>(0.151)  </td>
                </tr>
                <tr>
                  <td>factor(female)Female </td>
                  <td>-0.225***</td>
                  <td>-0.225***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.055)  </td>
                  <td>(0.072)  </td>
                </tr>
                <tr>
                  <td>factor(married)Single</td>
                  <td>-0.155** </td>
                  <td>-0.155*  </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.061)  </td>
                  <td>(0.083)  </td>
                </tr>
                <tr>
                  <td>kid5                 </td>
                  <td>-0.185***</td>
                  <td>-0.185***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.040)  </td>
                  <td>(0.057)  </td>
                </tr>
                <tr>
                  <td>phd                  </td>
                  <td>0.013    </td>
                  <td>0.013    </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.026)  </td>
                  <td>(0.044)  </td>
                </tr>
                <tr>
                  <td>mentor               </td>
                  <td>0.026*** </td>
                  <td>0.026*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.002)  </td>
                  <td>(0.004)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.             </td>
                  <td>915      </td>
                  <td>915      </td>
                </tr>
                <tr>
                  <td>AIC                  </td>
                  <td>3314.1   </td>
                  <td>3314.1   </td>
                </tr>
                <tr>
                  <td>BIC                  </td>
                  <td>3343.0   </td>
                  <td>3343.0   </td>
                </tr>
                <tr>
                  <td>Log.Lik.             </td>
                  <td>-1651.056</td>
                  <td>-1651.056</td>
                </tr>
                <tr>
                  <td>F                    </td>
                  <td>43.333   </td>
                  <td>14.855   </td>
                </tr>
                <tr>
                  <td>RMSE                 </td>
                  <td>1.84     </td>
                  <td>1.84     </td>
                </tr>
                <tr>
                  <td>Std.Errors           </td>
                  <td>IID      </td>
                  <td>HC3      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_j6g2qtyjkasau9yfnk3p(i, j, css_id) {
        var table = document.getElementById("tinytable_c69u71kdxs6dya8b76p9");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_c69u71kdxs6dya8b76p9');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_j6g2qtyjkasau9yfnk3p(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_c69u71kdxs6dya8b76p9");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 0, 'tinytable_css_lmr0cvjhzo1g129rc256') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 1, 'tinytable_css_lmr0cvjhzo1g129rc256') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 2, 'tinytable_css_lmr0cvjhzo1g129rc256') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(1, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(2, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(3, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(4, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(5, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(6, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(7, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(8, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(9, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(10, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(11, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(13, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(14, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(15, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(16, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(17, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(18, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(19, 0, 'tinytable_css_8x8r7e1kuwlghoyxz8rb') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(1, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(2, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(3, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(4, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(5, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(6, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(7, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(8, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(9, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(10, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(11, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(13, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(14, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(15, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(16, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(17, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(18, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(19, 1, 'tinytable_css_u2jhtk92y21pxqmfc0od') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(0, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(1, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(2, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(3, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(4, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(5, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(6, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(7, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(8, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(9, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(10, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(11, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(13, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(14, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(15, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(16, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(17, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(18, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(19, 2, 'tinytable_css_6bktyh288mxulc3z6p2w') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 0, 'tinytable_css_n17l37msulardi1tklrd') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 1, 'tinytable_css_n17l37msulardi1tklrd') })
window.addEventListener('load', function () { styleCell_tinytable_j6g2qtyjkasau9yfnk3p(12, 2, 'tinytable_css_n17l37msulardi1tklrd') })
    </script>

  


</div>
</div>
<p><em>Para las variables continuas, como el número de artículos publicados por el mentor, la interpretación es el cambio en el log conteo esperado. En este caso, un artículo más publicado por el mentor incrementa el log conteo esperado en 0.026. También sabemos que los coeficientes tienen una interpretación de semielasticidad; en este caso, la semielasticidad del conteo con respecto al número de artículos publicados es 0.026. Para las variables dicotómicas, por ejemplo female, la interpretación es la diferencia entre el log conteo esperado entre mujeres y la categoría base (hombres).</em></p></li>
<li><p>[3 puntos] Obtenga la razón de tasas de incidencia (IRR) para los coeficientes e interprete los resultados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">summary</span>(mpoisson)<span class="sc">$</span>coef)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       Estimate Std. Error      z value Pr(&gt;|z|)
(Intercept)           1.5838526   1.097829 1.379638e+02 1.000001
factor(female)Female  0.7988403   1.056132 1.636793e-02 1.000039
factor(married)Single 0.8562068   1.063297 7.970295e-02 1.011490
kid5                  0.8312018   1.040943 9.977222e-03 1.000004
phd                   1.0129051   1.026749 1.625407e+00 1.872246
mentor                1.0258718   1.002008 3.386456e+05 1.000000</code></pre>
</div>
</div>
<p><em>Aunque esto también puede hacerse directamente en modelsummary:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(mpoisson, mpoisson),</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'robust'</span>),</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_i0mpf849vz0u3zucc4t9</title>
    <style>
.table td.tinytable_css_2j36imf76mik5fkbm97y, .table th.tinytable_css_2j36imf76mik5fkbm97y {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_ng2y9c3qbvs3youn5jhc, .table th.tinytable_css_ng2y9c3qbvs3youn5jhc {    text-align: left; }
.table td.tinytable_css_48donv0zml6gevgunhur, .table th.tinytable_css_48donv0zml6gevgunhur {    text-align: center; }
.table td.tinytable_css_vop76qcg3n189kv3pj6s, .table th.tinytable_css_vop76qcg3n189kv3pj6s {    text-align: center; }
.table td.tinytable_css_xxuw9bc65k3d8v0k2ebr, .table th.tinytable_css_xxuw9bc65k3d8v0k2ebr {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_i0mpf849vz0u3zucc4t9" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="3">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)          </td>
                  <td>1.584*** </td>
                  <td>1.584*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.148)  </td>
                  <td>(0.240)  </td>
                </tr>
                <tr>
                  <td>factor(female)Female </td>
                  <td>0.799*** </td>
                  <td>0.799*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.044)  </td>
                  <td>(0.058)  </td>
                </tr>
                <tr>
                  <td>factor(married)Single</td>
                  <td>0.856**  </td>
                  <td>0.856*   </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.053)  </td>
                  <td>(0.071)  </td>
                </tr>
                <tr>
                  <td>kid5                 </td>
                  <td>0.831*** </td>
                  <td>0.831*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.033)  </td>
                  <td>(0.047)  </td>
                </tr>
                <tr>
                  <td>phd                  </td>
                  <td>1.013    </td>
                  <td>1.013    </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.027)  </td>
                  <td>(0.045)  </td>
                </tr>
                <tr>
                  <td>mentor               </td>
                  <td>1.026*** </td>
                  <td>1.026*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.002)  </td>
                  <td>(0.004)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.             </td>
                  <td>915      </td>
                  <td>915      </td>
                </tr>
                <tr>
                  <td>AIC                  </td>
                  <td>3314.1   </td>
                  <td>3314.1   </td>
                </tr>
                <tr>
                  <td>BIC                  </td>
                  <td>3343.0   </td>
                  <td>3343.0   </td>
                </tr>
                <tr>
                  <td>Log.Lik.             </td>
                  <td>-1651.056</td>
                  <td>-1651.056</td>
                </tr>
                <tr>
                  <td>F                    </td>
                  <td>43.333   </td>
                  <td>14.855   </td>
                </tr>
                <tr>
                  <td>RMSE                 </td>
                  <td>1.84     </td>
                  <td>1.84     </td>
                </tr>
                <tr>
                  <td>Std.Errors           </td>
                  <td>IID      </td>
                  <td>HC3      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_6ctwlis5b4vyihjt4igg(i, j, css_id) {
        var table = document.getElementById("tinytable_i0mpf849vz0u3zucc4t9");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_i0mpf849vz0u3zucc4t9');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_6ctwlis5b4vyihjt4igg(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_i0mpf849vz0u3zucc4t9");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 0, 'tinytable_css_2j36imf76mik5fkbm97y') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 1, 'tinytable_css_2j36imf76mik5fkbm97y') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 2, 'tinytable_css_2j36imf76mik5fkbm97y') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(1, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(2, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(3, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(4, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(5, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(6, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(7, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(8, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(9, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(10, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(11, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(13, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(14, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(15, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(16, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(17, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(18, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(19, 0, 'tinytable_css_ng2y9c3qbvs3youn5jhc') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(1, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(2, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(3, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(4, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(5, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(6, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(7, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(8, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(9, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(10, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(11, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(13, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(14, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(15, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(16, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(17, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(18, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(19, 1, 'tinytable_css_48donv0zml6gevgunhur') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(0, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(1, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(2, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(3, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(4, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(5, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(6, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(7, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(8, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(9, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(10, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(11, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(13, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(14, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(15, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(16, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(17, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(18, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(19, 2, 'tinytable_css_vop76qcg3n189kv3pj6s') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 0, 'tinytable_css_xxuw9bc65k3d8v0k2ebr') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 1, 'tinytable_css_xxuw9bc65k3d8v0k2ebr') })
window.addEventListener('load', function () { styleCell_tinytable_6ctwlis5b4vyihjt4igg(12, 2, 'tinytable_css_xxuw9bc65k3d8v0k2ebr') })
    </script>

  


</div>
</div>
<p><em>La interpretación de los coeficientes se vuelve más sencilla usando irr. Para la variable continua mentor, un artículo más publicado por el mentor está asociado con 1.026 veces más artículos publicados por el estudiante, es decir, un 2.6% más artículos. En cambio, la variable dicotómica para mujeres indica que las mujeres publican 0.8 veces el número de artículos que los hombres.</em></p></li>
<li><p>[2 puntos] Considere ahora que las mujeres han tenido carreras profesionales más cortas que los hombres, es decir, han estado menos expuestas a la ocurrencia de los eventos <em>publicar</em>. Incorpore esto al análisis y reinterprete los resultados. Pista: explore la opción <em>offeset</em> en <em>glm</em> de R. La columna <strong>profage</strong> mide la duración efectiva de las carreras profesionales de cada individuo.</p>
<p><em>El razonamiento es que ahora queremos conocer cuál es la tasa de publicación, es decir, <span class="math inline">\(art/profage\)</span>. Pero como nuestro podemos Poisson solo puede manejar conteos, podemos modificar el modelo para pasar la edad de la carrera del lado derecho:</em></p>
<p><span class="math display">\[\begin{aligned}ln(art/profage)&amp;=x'\beta \\ ln(art)&amp;=x'\beta+\ln(profage) \end{aligned}\]</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mpoisson_duracion <span class="ot">&lt;-</span> <span class="fu">glm</span>(art <span class="sc">~</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">factor</span>(female) <span class="sc">+</span> <span class="fu">factor</span>(married) <span class="sc">+</span> kid5 <span class="sc">+</span> phd <span class="sc">+</span> mentor,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">offset =</span> <span class="fu">log</span>(profage),</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family=</span><span class="st">"poisson"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data=</span>data.phd)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mpoisson_duracion)<span class="sc">$</span>coef</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         Estimate  Std. Error     z value      Pr(&gt;|z|)
(Intercept)           -2.95404558 0.093812104 -31.4889600 1.230266e-217
factor(female)Female   0.45874678 0.054721432   8.3833109  5.145931e-17
factor(married)Single -0.15598278 0.061347334  -2.5426171  1.100257e-02
kid5                  -0.18643454 0.040135522  -4.6451256  3.398696e-06
phd                    0.01801602 0.026428953   0.6816773  4.954430e-01
mentor                 0.02573493 0.002001731  12.8563329  7.924799e-38</code></pre>
</div>
</div>
<p><em>Hasta ahora hemos asumido que cada individuo ha estado “en riesgo” de publicar por el mismo periodo de tiempo, lo cual puede ser no cierto si, por ejemplo, algunos estudiantes se graduaron antes, o si otros han tenido pausas en sus carreras. Al controlar por el hecho de que las mujeres han tenido carreras más cortas, la variable female deja de ser negativa y se convierte en positiva. Las mujeres publican más que los hombres al tomar en cuenta la duración de las carreras.</em></p>
<p><em>Comparando los tres modelos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(mpoisson, mpoisson, mpoisson_duracion),</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'robust'</span>, <span class="st">'robust'</span>),</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_7in89qhwdzqgpbrgu8d0</title>
    <style>
.table td.tinytable_css_64695p9q0hlmxgdrg40o, .table th.tinytable_css_64695p9q0hlmxgdrg40o {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_4bzet813f0j4xwzjiwqp, .table th.tinytable_css_4bzet813f0j4xwzjiwqp {    text-align: left; }
.table td.tinytable_css_39ijgjokbbv7uq5ghssh, .table th.tinytable_css_39ijgjokbbv7uq5ghssh {    text-align: center; }
.table td.tinytable_css_wrwlat7onhksva85vsbm, .table th.tinytable_css_wrwlat7onhksva85vsbm {    text-align: center; }
.table td.tinytable_css_sixaex09k53w7i1a05y5, .table th.tinytable_css_sixaex09k53w7i1a05y5 {    text-align: center; }
.table td.tinytable_css_jsi3oflptke3t2g0p4cy, .table th.tinytable_css_jsi3oflptke3t2g0p4cy {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_7in89qhwdzqgpbrgu8d0" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="4">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)          </td>
                  <td>0.460*** </td>
                  <td>0.460*** </td>
                  <td>-2.954***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.093)  </td>
                  <td>(0.151)  </td>
                  <td>(0.155)  </td>
                </tr>
                <tr>
                  <td>factor(female)Female </td>
                  <td>-0.225***</td>
                  <td>-0.225***</td>
                  <td>0.459*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.055)  </td>
                  <td>(0.072)  </td>
                  <td>(0.073)  </td>
                </tr>
                <tr>
                  <td>factor(married)Single</td>
                  <td>-0.155** </td>
                  <td>-0.155*  </td>
                  <td>-0.156*  </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.061)  </td>
                  <td>(0.083)  </td>
                  <td>(0.083)  </td>
                </tr>
                <tr>
                  <td>kid5                 </td>
                  <td>-0.185***</td>
                  <td>-0.185***</td>
                  <td>-0.186***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.040)  </td>
                  <td>(0.057)  </td>
                  <td>(0.057)  </td>
                </tr>
                <tr>
                  <td>phd                  </td>
                  <td>0.013    </td>
                  <td>0.013    </td>
                  <td>0.018    </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.026)  </td>
                  <td>(0.044)  </td>
                  <td>(0.045)  </td>
                </tr>
                <tr>
                  <td>mentor               </td>
                  <td>0.026*** </td>
                  <td>0.026*** </td>
                  <td>0.026*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.002)  </td>
                  <td>(0.004)  </td>
                  <td>(0.005)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.             </td>
                  <td>915      </td>
                  <td>915      </td>
                  <td>915      </td>
                </tr>
                <tr>
                  <td>AIC                  </td>
                  <td>3314.1   </td>
                  <td>3314.1   </td>
                  <td>3322.8   </td>
                </tr>
                <tr>
                  <td>BIC                  </td>
                  <td>3343.0   </td>
                  <td>3343.0   </td>
                  <td>3351.7   </td>
                </tr>
                <tr>
                  <td>Log.Lik.             </td>
                  <td>-1651.056</td>
                  <td>-1651.056</td>
                  <td>-1655.393</td>
                </tr>
                <tr>
                  <td>F                    </td>
                  <td>43.333   </td>
                  <td>14.855   </td>
                  <td>20.311   </td>
                </tr>
                <tr>
                  <td>RMSE                 </td>
                  <td>1.84     </td>
                  <td>1.84     </td>
                  <td>1.85     </td>
                </tr>
                <tr>
                  <td>Std.Errors           </td>
                  <td>IID      </td>
                  <td>HC3      </td>
                  <td>HC3      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_ft7nauz3sb0tr95gjwvb(i, j, css_id) {
        var table = document.getElementById("tinytable_7in89qhwdzqgpbrgu8d0");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_7in89qhwdzqgpbrgu8d0');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_ft7nauz3sb0tr95gjwvb(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_7in89qhwdzqgpbrgu8d0");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 0, 'tinytable_css_64695p9q0hlmxgdrg40o') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 1, 'tinytable_css_64695p9q0hlmxgdrg40o') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 2, 'tinytable_css_64695p9q0hlmxgdrg40o') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 3, 'tinytable_css_64695p9q0hlmxgdrg40o') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(1, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(2, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(3, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(4, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(5, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(6, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(7, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(8, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(9, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(10, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(11, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(13, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(14, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(15, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(16, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(17, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(18, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(19, 0, 'tinytable_css_4bzet813f0j4xwzjiwqp') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(1, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(2, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(3, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(4, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(5, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(6, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(7, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(8, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(9, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(10, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(11, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(13, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(14, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(15, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(16, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(17, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(18, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(19, 1, 'tinytable_css_39ijgjokbbv7uq5ghssh') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(1, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(2, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(3, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(4, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(5, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(6, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(7, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(8, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(9, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(10, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(11, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(13, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(14, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(15, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(16, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(17, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(18, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(19, 2, 'tinytable_css_wrwlat7onhksva85vsbm') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(0, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(1, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(2, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(3, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(4, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(5, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(6, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(7, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(8, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(9, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(10, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(11, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(13, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(14, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(15, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(16, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(17, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(18, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(19, 3, 'tinytable_css_sixaex09k53w7i1a05y5') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 0, 'tinytable_css_jsi3oflptke3t2g0p4cy') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 1, 'tinytable_css_jsi3oflptke3t2g0p4cy') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 2, 'tinytable_css_jsi3oflptke3t2g0p4cy') })
window.addEventListener('load', function () { styleCell_tinytable_ft7nauz3sb0tr95gjwvb(12, 3, 'tinytable_css_jsi3oflptke3t2g0p4cy') })
    </script>

  


</div>
</div></li>
<li><p>[2 puntos] Implemente la prueba de dispersión de Cameron y Trivedi (1990) usando una regresión auxiliar y los coeficientes estimados en la parte a. ¿Qué concluye?</p>
<p><em>Seguimos a CT, p671 y construimos:</em></p>
<p><span class="math display">\[\frac{(y_i-\hat{\mu}_i)^2}{\hat{\mu}_i}=\alpha\frac{ g(\hat{\mu}_i)}{\hat{\mu}_i}+u_i\]</span> <em>Creamos el lado izquierdo:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>data.phd <span class="ot">&lt;-</span> data.phd <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">xb_hat =</span> <span class="fu">predict</span>(mpoisson),</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">mu_hat =</span> <span class="fu">exp</span>(xb_hat),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">lado_izq =</span> (art<span class="sc">-</span>mu_hat)<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>mu_hat)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Noten que si especificamos <span class="math inline">\(g(\hat{\mu}_i)=\hat{\mu}^2_i\)</span>, el lado derecho simplemente es <span class="math inline">\(\alpha \hat{\mu}_i+u_i\)</span>. Estimamos entonces la regresión, sin constante:</em></p>
<p><em>Corremos la regresión:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(lado_izq <span class="sc">~</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">+</span> mu_hat,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data.phd))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lado_izq ~ -1 + mu_hat, data = data.phd)

Residuals:
   Min     1Q Median     3Q    Max 
-5.570 -1.431 -0.798 -0.027 69.967 

Coefficients:
       Estimate Std. Error t value Pr(&gt;|t|)    
mu_hat  1.02020    0.08866   11.51   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.881 on 914 degrees of freedom
Multiple R-squared:  0.1265, Adjusted R-squared:  0.1256 
F-statistic: 132.4 on 1 and 914 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p><em>El coeficiente sobre <span class="math inline">\(\alpha\)</span> es estadísticamente significativo, sugiriendo una relación entre la media y la varianza.</em></p></li>
<li><p>[5 puntos] Emplee ahora un modelo negativo binomial con sobredispersión cuadrática en la media para estimar la relación entre el número de artículos publicados y las variables explicativas antes enumeradas. Interprete el coeficiente asociado al número de hijos y a la variable dicotómica para estudiantes mujeres. ¿Qué puede decir sobre la significancia del <span class="math inline">\(\alpha\)</span> estimado?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>mnb2 <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">glm.nb</span>(art <span class="sc">~</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">factor</span>(female) <span class="sc">+</span> <span class="fu">factor</span>(married) <span class="sc">+</span> kid5 <span class="sc">+</span> phd <span class="sc">+</span> mentor,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> data.phd)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mnb2)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
MASS::glm.nb(formula = art ~ factor(female) + factor(married) + 
    kid5 + phd + mentor, data = data.phd, init.theta = 2.264387695, 
    link = log)

Coefficients:
                       Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)            0.406633   0.125778   3.233 0.001225 ** 
factor(female)Female  -0.216418   0.072636  -2.979 0.002887 ** 
factor(married)Single -0.150489   0.082097  -1.833 0.066791 .  
kid5                  -0.176415   0.052813  -3.340 0.000837 ***
phd                    0.015271   0.035873   0.426 0.670326    
mentor                 0.029082   0.003214   9.048  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for Negative Binomial(2.2644) family taken to be 1)

    Null deviance: 1109.0  on 914  degrees of freedom
Residual deviance: 1004.3  on 909  degrees of freedom
AIC: 3135.9

Number of Fisher Scoring iterations: 1

              Theta:  2.264 
          Std. Err.:  0.271 

 2 x log-likelihood:  -3121.917 </code></pre>
</div>
</div>
<p><em>Ponemos todo junto:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(mpoisson, mpoisson, mpoisson_duracion, mnb2),</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'robust'</span>, <span class="st">'robust'</span>, <span class="st">'robust'</span>),</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_nh2hlt04ma8cy8muhchn</title>
    <style>
.table td.tinytable_css_rmjyfarbp1oa0waz9qxi, .table th.tinytable_css_rmjyfarbp1oa0waz9qxi {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_gyqztm5mu6kztv8j9r4e, .table th.tinytable_css_gyqztm5mu6kztv8j9r4e {    text-align: left; }
.table td.tinytable_css_m1alpig1frkys1x6azbv, .table th.tinytable_css_m1alpig1frkys1x6azbv {    text-align: center; }
.table td.tinytable_css_ewwufjdehtuxjnw7n3hz, .table th.tinytable_css_ewwufjdehtuxjnw7n3hz {    text-align: center; }
.table td.tinytable_css_53z0o99nu3ma6dtm7vqt, .table th.tinytable_css_53z0o99nu3ma6dtm7vqt {    text-align: center; }
.table td.tinytable_css_ikd0qh25lcwd16ih0dto, .table th.tinytable_css_ikd0qh25lcwd16ih0dto {    text-align: center; }
.table td.tinytable_css_nvocu7rtsst7rd7x0g1e, .table th.tinytable_css_nvocu7rtsst7rd7x0g1e {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_nh2hlt04ma8cy8muhchn" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
                <th scope="col">(4)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="5">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)          </td>
                  <td>0.460*** </td>
                  <td>0.460*** </td>
                  <td>-2.954***</td>
                  <td>0.407*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.093)  </td>
                  <td>(0.151)  </td>
                  <td>(0.155)  </td>
                  <td>(0.135)  </td>
                </tr>
                <tr>
                  <td>factor(female)Female </td>
                  <td>-0.225***</td>
                  <td>-0.225***</td>
                  <td>0.459*** </td>
                  <td>-0.216***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.055)  </td>
                  <td>(0.072)  </td>
                  <td>(0.073)  </td>
                  <td>(0.071)  </td>
                </tr>
                <tr>
                  <td>factor(married)Single</td>
                  <td>-0.155** </td>
                  <td>-0.155*  </td>
                  <td>-0.156*  </td>
                  <td>-0.150*  </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.061)  </td>
                  <td>(0.083)  </td>
                  <td>(0.083)  </td>
                  <td>(0.081)  </td>
                </tr>
                <tr>
                  <td>kid5                 </td>
                  <td>-0.185***</td>
                  <td>-0.185***</td>
                  <td>-0.186***</td>
                  <td>-0.176***</td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.040)  </td>
                  <td>(0.057)  </td>
                  <td>(0.057)  </td>
                  <td>(0.053)  </td>
                </tr>
                <tr>
                  <td>phd                  </td>
                  <td>0.013    </td>
                  <td>0.013    </td>
                  <td>0.018    </td>
                  <td>0.015    </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.026)  </td>
                  <td>(0.044)  </td>
                  <td>(0.045)  </td>
                  <td>(0.038)  </td>
                </tr>
                <tr>
                  <td>mentor               </td>
                  <td>0.026*** </td>
                  <td>0.026*** </td>
                  <td>0.026*** </td>
                  <td>0.029*** </td>
                </tr>
                <tr>
                  <td>                     </td>
                  <td>(0.002)  </td>
                  <td>(0.004)  </td>
                  <td>(0.005)  </td>
                  <td>(0.003)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.             </td>
                  <td>915      </td>
                  <td>915      </td>
                  <td>915      </td>
                  <td>915      </td>
                </tr>
                <tr>
                  <td>AIC                  </td>
                  <td>3314.1   </td>
                  <td>3314.1   </td>
                  <td>3322.8   </td>
                  <td>3135.9   </td>
                </tr>
                <tr>
                  <td>BIC                  </td>
                  <td>3343.0   </td>
                  <td>3343.0   </td>
                  <td>3351.7   </td>
                  <td>3169.6   </td>
                </tr>
                <tr>
                  <td>Log.Lik.             </td>
                  <td>-1651.056</td>
                  <td>-1651.056</td>
                  <td>-1655.393</td>
                  <td>-1560.958</td>
                </tr>
                <tr>
                  <td>F                    </td>
                  <td>43.333   </td>
                  <td>14.855   </td>
                  <td>20.311   </td>
                  <td>20.935   </td>
                </tr>
                <tr>
                  <td>RMSE                 </td>
                  <td>1.84     </td>
                  <td>1.84     </td>
                  <td>1.85     </td>
                  <td>1.86     </td>
                </tr>
                <tr>
                  <td>Std.Errors           </td>
                  <td>IID      </td>
                  <td>HC3      </td>
                  <td>HC3      </td>
                  <td>HC3      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_ak0kj0cxy86h5h6yx75v(i, j, css_id) {
        var table = document.getElementById("tinytable_nh2hlt04ma8cy8muhchn");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_nh2hlt04ma8cy8muhchn');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_ak0kj0cxy86h5h6yx75v(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_nh2hlt04ma8cy8muhchn");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 0, 'tinytable_css_rmjyfarbp1oa0waz9qxi') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 1, 'tinytable_css_rmjyfarbp1oa0waz9qxi') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 2, 'tinytable_css_rmjyfarbp1oa0waz9qxi') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 3, 'tinytable_css_rmjyfarbp1oa0waz9qxi') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 4, 'tinytable_css_rmjyfarbp1oa0waz9qxi') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(1, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(2, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(3, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(4, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(5, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(6, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(7, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(8, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(9, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(10, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(11, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(13, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(14, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(15, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(16, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(17, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(18, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(19, 0, 'tinytable_css_gyqztm5mu6kztv8j9r4e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(1, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(2, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(3, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(4, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(5, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(6, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(7, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(8, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(9, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(10, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(11, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(13, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(14, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(15, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(16, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(17, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(18, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(19, 1, 'tinytable_css_m1alpig1frkys1x6azbv') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(1, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(2, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(3, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(4, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(5, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(6, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(7, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(8, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(9, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(10, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(11, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(13, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(14, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(15, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(16, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(17, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(18, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(19, 2, 'tinytable_css_ewwufjdehtuxjnw7n3hz') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(1, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(2, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(3, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(4, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(5, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(6, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(7, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(8, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(9, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(10, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(11, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(13, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(14, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(15, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(16, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(17, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(18, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(19, 3, 'tinytable_css_53z0o99nu3ma6dtm7vqt') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(0, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(1, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(2, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(3, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(4, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(5, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(6, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(7, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(8, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(9, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(10, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(11, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(13, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(14, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(15, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(16, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(17, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(18, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(19, 4, 'tinytable_css_ikd0qh25lcwd16ih0dto') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 0, 'tinytable_css_nvocu7rtsst7rd7x0g1e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 1, 'tinytable_css_nvocu7rtsst7rd7x0g1e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 2, 'tinytable_css_nvocu7rtsst7rd7x0g1e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 3, 'tinytable_css_nvocu7rtsst7rd7x0g1e') })
window.addEventListener('load', function () { styleCell_tinytable_ak0kj0cxy86h5h6yx75v(12, 4, 'tinytable_css_nvocu7rtsst7rd7x0g1e') })
    </script>

  


</div>
</div>
<p><em>A diferencia de otros paquetes, glm.nb reporta <span class="math inline">\(\theta=1/\alpha\)</span>:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(alpha <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span><span class="fu">summary</span>(mnb2)<span class="sc">$</span>theta)        </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4416205</code></pre>
</div>
</div>
<p><em>Este es el modelo NB2 visto en clase y la forma más usada para implementar un modelo negativo binomial. Se asume una sobredispersión cuadrática en la media, con la varianza parametrizada usando <span class="math inline">\(\alpha\)</span>. La interpretación de los coeficientes se mantiene con respecto al modelo Poisson. Los coeficientes tienen magnitudes similares, pero se prefiere el modelo NB2 si el propósito es pronóstico pues toma en cuenta la sobredispersión y le da suficiente flexibilidad a la varianza para depender de manera cuadrática de la media.</em></p>
<p><em>Un poco más cuidado hay que poner en <span class="math inline">\(\alpha\)</span>. En este caso, <span class="math inline">\(\hat{\alpha}=0.44\)</span>. Pero noten que lo que se reporta es el error estándar de <span class="math inline">\(\theta\)</span>. Como platicamos en clase, con un estadístico podemos hacer un test y obtener un valor <span class="math inline">\(p\)</span>, pero una función no lineal del mismo puede que no tenga el mismo valor <span class="math inline">\(p\)</span>. Esto ocurre aquí, deberíamos recurrir al método delta para calcular el error estándar de <span class="math inline">\(\alpha\)</span>.</em></p></li>
</ol>
</section>
<section id="pregunta-5" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-5">Pregunta 5</h2>
<p>Retome los datos del archivo <em>motral2012.csv</em> usado en la Tarea 1. Estimará un modelo Tobit para explicar los factores que afectan la oferta laboral femenina. En este archivo de datos la variable <strong>hrsocup</strong> registra las horas trabajadas a la semana.</p>
<ol type="a">
<li><p>[2 punto] ¿Qué proporción de la muestra femenina reporta horas trabajadas iguales a cero?</p>
<p><em>Si hacemos una dummy de horas positivas, al sacarle la media obtenemos la proporción.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>data.salarios<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"../files/motral2012.csv"</span>,</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"latin1"</span>)) </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex<span class="sc">==</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zerohrs=</span><span class="fu">ifelse</span>(hrsocup<span class="sc">==</span><span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data.salarios<span class="sc">$</span>zerohrs)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0000  0.0000  0.0000  0.3528  1.0000  1.0000 </code></pre>
</div>
</div>
<p><em>El 35% de las observaciones tienen cero horas trabajadas.</em></p></li>
<li><p>[3 puntos] Se desea estimar el efecto de los años de educación (<strong>anios_esc</strong>) sobre la oferta laboral femenina controlando por el estado marital (<strong>casada</strong>), la edad (<strong>eda</strong>) y el número de hijos (<strong>n_hij</strong>) como una variable continua. En la base, <strong>e_con</strong> toma el valor de 5 para las personas casadas. Genere la variable dummy <strong>casada</strong> que tome el valor de 1 para las mujeres casadas y cero en otro caso. Estime un modelo de MCO para <strong>hrsocup</strong> mayor que cero, usando solo la población femenina. Reporte errores robustos. ¿Cuál es la interpretación sobre el coeficiente de los años de escolaridad?</p>
<p><em>El estimar por MCO, un año más de escolaridad se asocia con 0.17 horas trabajadas más a la semana. Sin embargo, este efecto no es estadísticamente significativo.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">casada=</span><span class="fu">ifelse</span>(e_con<span class="sc">==</span><span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>reg_mco <span class="ot">&lt;-</span> <span class="fu">lm</span>(hrsocup <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>n_hij,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">data=</span><span class="fu">filter</span>(data.salarios,hrsocup<span class="sc">&gt;</span><span class="dv">0</span>))</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(reg_mco,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">vcov =</span> <span class="fu">vcovHC</span>(reg_mco, <span class="st">"HC1"</span>))[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Estimate Std. Error   t value     Pr(&gt;|t|)
(Intercept) 36.70129720 1.99116828 18.432042 2.742336e-69
anios_esc    0.17465627 0.10353350  1.686954 9.179628e-02
casada      -3.52571327 0.89724706 -3.929479 8.855253e-05
eda          0.06949593 0.04914655  1.414055 1.575295e-01</code></pre>
</div>
</div>
<p><em>Con modelsummary podemos hacer pedir la tabla de coeficientes. Podemos especificar qué tipo de errores robustos queremos en la opción vcov:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(reg_mco, reg_mco),</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'HC1'</span>),</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_fkg31zfvygblu6l68nv4</title>
    <style>
.table td.tinytable_css_513mrwg8icfccqw7qi2x, .table th.tinytable_css_513mrwg8icfccqw7qi2x {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_11g9fq98ek15goq8dqnl, .table th.tinytable_css_11g9fq98ek15goq8dqnl {    text-align: left; }
.table td.tinytable_css_2jle9yp2alo7qvuns3pi, .table th.tinytable_css_2jle9yp2alo7qvuns3pi {    text-align: center; }
.table td.tinytable_css_6vur67yt7fs6sxgdlys1, .table th.tinytable_css_6vur67yt7fs6sxgdlys1 {    text-align: center; }
.table td.tinytable_css_jbqv6cr3ezosbkrsy3qj, .table th.tinytable_css_jbqv6cr3ezosbkrsy3qj {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_fkg31zfvygblu6l68nv4" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="3">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>36.701***</td>
                  <td>36.701***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(1.959)  </td>
                  <td>(1.991)  </td>
                </tr>
                <tr>
                  <td>anios_esc  </td>
                  <td>0.175*   </td>
                  <td>0.175*   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.104)  </td>
                  <td>(0.104)  </td>
                </tr>
                <tr>
                  <td>casada     </td>
                  <td>-3.526***</td>
                  <td>-3.526***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.862)  </td>
                  <td>(0.897)  </td>
                </tr>
                <tr>
                  <td>eda        </td>
                  <td>0.069    </td>
                  <td>0.069    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.047)  </td>
                  <td>(0.049)  </td>
                </tr>
                <tr>
                  <td>n_hij      </td>
                  <td>-1.149***</td>
                  <td>-1.149***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.336)  </td>
                  <td>(0.372)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>1699     </td>
                  <td>1699     </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.030    </td>
                  <td>0.030    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.028    </td>
                  <td>0.028    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>14234.8  </td>
                  <td>14234.8  </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>14267.4  </td>
                  <td>14267.4  </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-7111.383</td>
                  <td>-7111.383</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>13.171   </td>
                  <td>12.526   </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>15.91    </td>
                  <td>15.91    </td>
                </tr>
                <tr>
                  <td>Std.Errors </td>
                  <td>IID      </td>
                  <td>HC1      </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_v2f9zkp4bv9gomcz0895(i, j, css_id) {
        var table = document.getElementById("tinytable_fkg31zfvygblu6l68nv4");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_fkg31zfvygblu6l68nv4');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_v2f9zkp4bv9gomcz0895(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_fkg31zfvygblu6l68nv4");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 0, 'tinytable_css_513mrwg8icfccqw7qi2x') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 1, 'tinytable_css_513mrwg8icfccqw7qi2x') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 2, 'tinytable_css_513mrwg8icfccqw7qi2x') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(1, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(2, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(3, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(4, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(5, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(6, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(7, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(8, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(9, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(11, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(12, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(13, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(14, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(15, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(16, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(17, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(18, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(19, 0, 'tinytable_css_11g9fq98ek15goq8dqnl') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(1, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(2, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(3, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(4, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(5, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(6, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(7, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(8, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(9, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(11, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(12, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(13, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(14, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(15, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(16, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(17, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(18, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(19, 1, 'tinytable_css_2jle9yp2alo7qvuns3pi') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(0, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(1, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(2, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(3, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(4, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(5, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(6, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(7, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(8, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(9, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(11, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(12, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(13, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(14, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(15, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(16, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(17, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(18, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(19, 2, 'tinytable_css_6vur67yt7fs6sxgdlys1') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 0, 'tinytable_css_jbqv6cr3ezosbkrsy3qj') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 1, 'tinytable_css_jbqv6cr3ezosbkrsy3qj') })
window.addEventListener('load', function () { styleCell_tinytable_v2f9zkp4bv9gomcz0895(10, 2, 'tinytable_css_jbqv6cr3ezosbkrsy3qj') })
    </script>

  


</div>
</div></li>
<li><p>[3 puntos] ¿Qué problema existe con el modelo planteado en el punto anterior en términos de la selección? ¿Considera que se trata de un caso de censura o de truncamiento?</p>
<p><em>Podemos racionalizar las horas trabajadas en un modelo microeconómico de oferta laboral. Las horas trabajadas observadas son positivas cuando la solución óptima es una cantidad positiva de horas. Sin embargo, si la solución óptima implicara horas negativas, las horas observadas serían cero. En este caso tenemos datos censurados en cero. Si existe una relación positiva entre educación y horas trabajadas, al estimar un modelo por MCO usando solo los datos con horas positivas estamos sobreestimando la media condicional pues se habrán omitido del análisis aquellas mujeres cuya solución a su problema de optimización eran horas iguales a cero o negativas.</em></p></li>
<li><p>[8 puntos] Estime un modelo Tobit de datos censurados. ¿Qué resuelve el modelo Tobit en este caso? Interprete nuevamente el coeficiente sobre los años de escolaridad.</p>
<p><em>La función tobit permite hacer esto muy fácilmente. Noten que left especifica dónde está la censura. La opción gaussian pone explícito uno de los supuestos críticos del modelo tobit visto en clase: errores normales. Además, se asume homocedasticidad.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>reg_tobit <span class="ot">&lt;-</span> <span class="fu">tobit</span>(hrsocup <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>n_hij,</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">left =</span> <span class="dv">0</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">right =</span> <span class="cn">Inf</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">dist =</span> <span class="st">"gaussian"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> data.salarios)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_tobit)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
tobit(formula = hrsocup ~ anios_esc + casada + eda + n_hij, left = 0, 
    right = Inf, dist = "gaussian", data = data.salarios)

Observations:
         Total  Left-censored     Uncensored Right-censored 
          2625            926           1699              0 

Coefficients:
             Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)   0.88236    3.19905   0.276  0.78269    
anios_esc     0.85530    0.17509   4.885 1.04e-06 ***
casada      -10.99515    1.43025  -7.688 1.50e-14 ***
eda           0.41621    0.07665   5.430 5.64e-08 ***
n_hij        -1.73840    0.55887  -3.111  0.00187 ** 
Log(scale)    3.44512    0.01887 182.608  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Scale: 31.35 

Gaussian distribution
Number of Newton-Raphson Iterations: 3 
Log-likelihood: -9086 on 6 Df
Wald-statistic: 127.9 on 4 Df, p-value: &lt; 2.22e-16 </code></pre>
</div>
</div>
<p><em>El modelo tobit para datos censurados toma en cuenta que hay una masa de ceros en las horas trabajadas para individuos para los que disponemos de sus características en la base de datos. El modelo tobit ajusta la probabilidad de observar esta masa de ceros. El coeficiente estimado será ahora consistente si el modelo está bien especificado, es decir, si el proceso subyacente es lineal en los parámetros y con un error normal homoscedástico (los supuestos de tobit básico). En este caso, un año más de educación se asocia con 0.85 más horas semanales trabajadas, un efecto estadísticamente significativo. Usar MCO subestimaba el efecto de la escolaridad.</em></p>
<p><em>modelsummary acepta la salida de la función tobit:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(reg_mco, reg_mco, reg_tobit),</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="fu">list</span>(<span class="st">'classical'</span>, <span class="st">'HC1'</span>, <span class="st">'classical'</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_debf4qfj2125rxkkyzt5</title>
    <style>
.table td.tinytable_css_ia87dotxvia90ng9l314, .table th.tinytable_css_ia87dotxvia90ng9l314 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_zxotm2pu1pohm2jwqtjh, .table th.tinytable_css_zxotm2pu1pohm2jwqtjh {    text-align: left; }
.table td.tinytable_css_8tm2zgtlv6zu9pdoz6wa, .table th.tinytable_css_8tm2zgtlv6zu9pdoz6wa {    text-align: center; }
.table td.tinytable_css_u42m2snqi8tbwlynz0w2, .table th.tinytable_css_u42m2snqi8tbwlynz0w2 {    text-align: center; }
.table td.tinytable_css_drdi4cdka8tmjfwdente, .table th.tinytable_css_drdi4cdka8tmjfwdente {    text-align: center; }
.table td.tinytable_css_9e6p3eugy0gw6nckec1m, .table th.tinytable_css_9e6p3eugy0gw6nckec1m {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_debf4qfj2125rxkkyzt5" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="4">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>36.701***</td>
                  <td>36.701***</td>
                  <td>0.882     </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(1.959)  </td>
                  <td>(1.991)  </td>
                  <td>(3.199)   </td>
                </tr>
                <tr>
                  <td>anios_esc  </td>
                  <td>0.175*   </td>
                  <td>0.175*   </td>
                  <td>0.855***  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.104)  </td>
                  <td>(0.104)  </td>
                  <td>(0.175)   </td>
                </tr>
                <tr>
                  <td>casada     </td>
                  <td>-3.526***</td>
                  <td>-3.526***</td>
                  <td>-10.995***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.862)  </td>
                  <td>(0.897)  </td>
                  <td>(1.430)   </td>
                </tr>
                <tr>
                  <td>eda        </td>
                  <td>0.069    </td>
                  <td>0.069    </td>
                  <td>0.416***  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.047)  </td>
                  <td>(0.049)  </td>
                  <td>(0.077)   </td>
                </tr>
                <tr>
                  <td>n_hij      </td>
                  <td>-1.149***</td>
                  <td>-1.149***</td>
                  <td>-1.738*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.336)  </td>
                  <td>(0.372)  </td>
                  <td>(0.559)   </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>1699     </td>
                  <td>1699     </td>
                  <td>2625      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.030    </td>
                  <td>0.030    </td>
                  <td>          </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.028    </td>
                  <td>0.028    </td>
                  <td>          </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>14234.8  </td>
                  <td>14234.8  </td>
                  <td>18184.9   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>14267.4  </td>
                  <td>14267.4  </td>
                  <td>18220.1   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-7111.383</td>
                  <td>-7111.383</td>
                  <td>          </td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>13.171   </td>
                  <td>12.526   </td>
                  <td>          </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>15.91    </td>
                  <td>15.91    </td>
                  <td>23.02     </td>
                </tr>
                <tr>
                  <td>Std.Errors </td>
                  <td>IID      </td>
                  <td>HC1      </td>
                  <td>IID       </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_1ougytrk47y6pd1o8iqc(i, j, css_id) {
        var table = document.getElementById("tinytable_debf4qfj2125rxkkyzt5");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_debf4qfj2125rxkkyzt5');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_1ougytrk47y6pd1o8iqc(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_debf4qfj2125rxkkyzt5");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 0, 'tinytable_css_ia87dotxvia90ng9l314') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 1, 'tinytable_css_ia87dotxvia90ng9l314') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 2, 'tinytable_css_ia87dotxvia90ng9l314') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 3, 'tinytable_css_ia87dotxvia90ng9l314') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(1, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(2, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(3, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(4, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(5, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(6, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(7, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(8, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(9, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(11, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(12, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(13, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(14, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(15, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(16, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(17, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(18, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(19, 0, 'tinytable_css_zxotm2pu1pohm2jwqtjh') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(1, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(2, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(3, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(4, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(5, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(6, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(7, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(8, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(9, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(11, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(12, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(13, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(14, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(15, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(16, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(17, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(18, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(19, 1, 'tinytable_css_8tm2zgtlv6zu9pdoz6wa') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(1, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(2, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(3, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(4, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(5, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(6, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(7, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(8, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(9, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(11, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(12, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(13, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(14, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(15, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(16, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(17, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(18, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(19, 2, 'tinytable_css_u42m2snqi8tbwlynz0w2') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(0, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(1, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(2, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(3, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(4, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(5, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(6, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(7, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(8, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(9, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(11, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(12, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(13, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(14, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(15, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(16, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(17, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(18, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(19, 3, 'tinytable_css_drdi4cdka8tmjfwdente') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 0, 'tinytable_css_9e6p3eugy0gw6nckec1m') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 1, 'tinytable_css_9e6p3eugy0gw6nckec1m') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 2, 'tinytable_css_9e6p3eugy0gw6nckec1m') })
window.addEventListener('load', function () { styleCell_tinytable_1ougytrk47y6pd1o8iqc(10, 3, 'tinytable_css_9e6p3eugy0gw6nckec1m') })
    </script>

  


</div>
</div></li>
<li><p>[4 puntos] ¿Cuál es el efecto marginal de un incremento de un año de educación en la oferta laboral? ¿Cómo cambia su respuesta si, en lugar de considerar la variable latente, considera la variable censurada?</p>
<p><em>El efecto marginal en la variable latente es directamente el coficiente estimado en la parte d., es decir 0.855.</em></p>
<p><em>El efecto marginal en la media censurada está dado por:</em></p>
<p><span class="math display">\[\frac{\partial E(y|x)}{\partial x_j}=\beta_j\Phi(x_i'\beta)\]</span></p>
<p><em>Lo que hice aquí fue calcular este efecto marginal para cada individuo y luego obtener el promedio de los efectos marginales en aquellos individuos con horas positivas.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">index1=</span><span class="fu">predict</span>(reg_tobit,.)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">phi=</span><span class="fu">pnorm</span>(index1<span class="sc">/</span>reg_tobit<span class="sc">$</span>scale)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mfx_anis_esc=</span>reg_tobit<span class="sc">$</span>coefficients[<span class="dv">2</span>]<span class="sc">*</span>phi,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">mfx_eda=</span>reg_tobit<span class="sc">$</span>coefficients[<span class="dv">4</span>]<span class="sc">*</span>phi,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">mfx_n_hij=</span>reg_tobit<span class="sc">$</span>coefficients[<span class="dv">5</span>]<span class="sc">*</span>phi)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="sc">%&gt;%</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hrsocup<span class="sc">&gt;</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mfx_anis_esc=</span><span class="fu">mean</span>(mfx_anis_esc)) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  mfx_anis_esc
         &lt;dbl&gt;
1        0.612</code></pre>
</div>
</div></li>
</ol>
</section>
<section id="pregunta-6" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-6">Pregunta 6</h2>
<p>Usando los mismos datos del archivo <em>motral2012.csv</em> implementará un ejercicio en el mismo espíritu del famoso estudio de Mroz (1987)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> sobre la oferta laboral femenina. El propósito es estimar la relación entre el salario y el número de horas trabajadas, concentrándonos en la muestra de mujeres.</p>
<ol type="a">
<li><p>[5 puntos] El primer problema al que nos enfrentamos es que el salario no se observa para las mujeres que no trabajan. Estime un modelo lineal para el log del salario por hora, <strong>ing_x_hrs</strong>, usando las variables <strong>anios_esc</strong>, <strong>eda</strong>, <strong>n_hij</strong>, el cuadrado de <strong>n_hij</strong>, <strong>busqueda</strong> y <strong>casada</strong>, usando la submuestra de mujeres con salario por hora positivo. Dichas variables representan los años de escolaridad, la edad, el número de hijos, el cuadrado del número de hijos, si la persona buscó trabajo recientemente y si la persona es casada, respectivamente. Use los coeficientes estimados para imputar el ingreso por hora, faltante para las mujeres que reportan 0 en las horas trabajadas.</p>
<p><em>Imputamos el salario faltante:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>data.salarios<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">"../files/motral2012.csv"</span>,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">locale =</span> <span class="fu">locale</span>(<span class="at">encoding =</span> <span class="st">"latin1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex<span class="sc">==</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">casada=</span><span class="fu">ifelse</span>(e_con<span class="sc">==</span><span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ly=</span><span class="fu">ifelse</span>(ing_x_hrs<span class="sc">&gt;</span><span class="dv">0</span>,<span class="fu">log</span>(ing_x_hrs),<span class="cn">NA</span>)) </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>reg_imput <span class="ot">&lt;-</span> <span class="fu">lm</span>(ly <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>n_hij<span class="sc">+</span>n_hij<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>busqueda,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> data.salarios)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lyhat =</span> <span class="fu">predict</span>(reg_imput, .)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ly =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(ly), lyhat, ly))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Aquí tomé en cuenta que hay personas con horas trabajadas positivas e ingreso cero. En ese caso puse un NA al log del salario. Luego, en la imputación, le asigné el valor ajustado a estas observaciones junto con todas las que tienen el log del salario faltante.</em></p></li>
<li><p>[5 puntos] Use <em>heckit</em> de la librería <em>sampleSelection</em> para estimar por máxima verosimilitud un <em>heckit</em> para las horas trabajadas <strong>hrsocup</strong>. En la ecuación de selección (si la persona trabaja o no) incluya como variable explicativa el salario por hora (imputado para las mujeres que no trabajan), además de <strong>anios_esc</strong>, <strong>eda</strong>, <strong>n_hij</strong>, el cuadrado de <strong>n_hij</strong>, <strong>casada</strong> y <strong>busqueda</strong> (esta última es un indicador de si se buscó trabajo en la última semana). En la ecuación de horas, incluya los mismos regresores, excepto <strong>n_hij</strong>, su cuadrado y <strong>busqueda</strong>.</p>
<p><em>La función heckit permite estimar el modelo de Heckman por máxima verosimilitud de manera muy simple. Hay que especificar method=“ml” para que la estimación sea por máxima verosimilitud:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trabaja =</span> <span class="fu">ifelse</span>(hrsocup<span class="sc">&gt;</span><span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trabaja =</span> <span class="fu">factor</span>(trabaja,<span class="at">levels=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)))</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>reg_heckit_mv <span class="ot">&lt;-</span> <span class="fu">heckit</span>(trabaja <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>ly<span class="sc">+</span>n_hij<span class="sc">+</span>n_hij<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>busqueda,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                hrsocup <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>ly,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">method=</span><span class="st">"ml"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> data.salarios)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_heckit_mv)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>--------------------------------------------
Tobit 2 model (sample selection model)
Maximum Likelihood estimation
Newton-Raphson maximisation, 3 iterations
Return code 8: successive function values within relative tolerance limit (reltol)
Log-Likelihood: -7181.675 
2625 observations (926 censored and 1699 observed)
14 free parameters (df = 2611)
Probit selection equation:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) -2.583614   0.448320  -5.763 9.24e-09 ***
anios_esc    0.005346   0.020341   0.263    0.793    
casada      -0.213125   0.145135  -1.468    0.142    
eda         -0.003391   0.008137  -0.417    0.677    
ly          -0.004236   0.133344  -0.032    0.975    
n_hij        0.023985   0.058900   0.407    0.684    
busqueda     2.406669   0.104595  23.009  &lt; 2e-16 ***
Outcome equation:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 55.62469    2.17656  25.556  &lt; 2e-16 ***
anios_esc    1.04819    0.09995  10.487  &lt; 2e-16 ***
casada      -3.58856    0.77967  -4.603 4.37e-06 ***
eda          0.11614    0.03902   2.977  0.00294 ** 
ly          -9.83418    0.60389 -16.285  &lt; 2e-16 ***
   Error terms:
      Estimate Std. Error t value Pr(&gt;|t|)    
sigma  14.8579     0.2591  57.350   &lt;2e-16 ***
rho    -0.1606     0.1964  -0.818    0.414    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
--------------------------------------------</code></pre>
</div>
</div>
<p><em>Podemos reportar con modelsummary, aunque realmente lo hace muy mal:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(reg_heckit_mv),</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">stars =</span> <span class="fu">c</span>(<span class="st">'***'</span> <span class="ot">=</span> <span class="fl">0.01</span>, <span class="st">'**'</span> <span class="ot">=</span> <span class="fl">0.05</span>, <span class="st">'*'</span> <span class="ot">=</span> <span class="fl">0.1</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_f2bjcgh5lnpm3l91yxqa</title>
    <style>
.table td.tinytable_css_axoycd50nijjct4ne0du, .table th.tinytable_css_axoycd50nijjct4ne0du {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_fmiylbsgkv98uplit54l, .table th.tinytable_css_fmiylbsgkv98uplit54l {    text-align: left; }
.table td.tinytable_css_jyt13oo8pk3oy0dsdf68, .table th.tinytable_css_jyt13oo8pk3oy0dsdf68 {    text-align: center; }
.table td.tinytable_css_41807vzhitx89oq9i06f, .table th.tinytable_css_41807vzhitx89oq9i06f {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_f2bjcgh5lnpm3l91yxqa" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>

              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">* p &lt; 0.1, ** p &lt; 0.05, *** p &lt; 0.01</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-2.584***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>55.625***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.448)  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(2.177)  </td>
                </tr>
                <tr>
                  <td>anios_esc  </td>
                  <td>0.005    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>1.048*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.020)  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.100)  </td>
                </tr>
                <tr>
                  <td>casada     </td>
                  <td>-0.213   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>-3.589***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.145)  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.780)  </td>
                </tr>
                <tr>
                  <td>eda        </td>
                  <td>-0.003   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>0.116*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.008)  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.039)  </td>
                </tr>
                <tr>
                  <td>ly         </td>
                  <td>-0.004   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>-9.834***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.133)  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.604)  </td>
                </tr>
                <tr>
                  <td>n_hij      </td>
                  <td>0.024    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.059)  </td>
                </tr>
                <tr>
                  <td>busqueda   </td>
                  <td>2.407*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.105)  </td>
                </tr>
                <tr>
                  <td>sigma      </td>
                  <td>14.858***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.259)  </td>
                </tr>
                <tr>
                  <td>rho        </td>
                  <td>-0.161   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.196)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>2625     </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>14391.4  </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>14473.6  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>14.84    </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(i, j, css_id) {
        var table = document.getElementById("tinytable_f2bjcgh5lnpm3l91yxqa");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_f2bjcgh5lnpm3l91yxqa');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_hxabr5bn8xwwpdtmfbtr(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_f2bjcgh5lnpm3l91yxqa");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(0, 0, 'tinytable_css_axoycd50nijjct4ne0du') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(0, 1, 'tinytable_css_axoycd50nijjct4ne0du') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(0, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(1, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(2, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(3, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(4, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(5, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(6, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(7, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(8, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(9, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(10, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(11, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(12, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(13, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(14, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(15, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(16, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(17, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(18, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(19, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(20, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(21, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(22, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(23, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(24, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(25, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(26, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(27, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(28, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(29, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(30, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(31, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(32, 0, 'tinytable_css_fmiylbsgkv98uplit54l') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(0, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(1, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(2, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(3, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(4, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(5, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(6, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(7, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(8, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(9, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(10, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(11, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(12, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(13, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(14, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(15, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(16, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(17, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(18, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(19, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(20, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(21, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(22, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(23, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(24, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(25, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(26, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(27, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(28, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(29, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(30, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(31, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(32, 1, 'tinytable_css_jyt13oo8pk3oy0dsdf68') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(28, 0, 'tinytable_css_41807vzhitx89oq9i06f') })
window.addEventListener('load', function () { styleCell_tinytable_hxabr5bn8xwwpdtmfbtr(28, 1, 'tinytable_css_41807vzhitx89oq9i06f') })
    </script>

  


</div>
</div></li>
<li><p>[10 puntos] Estime ahora el <em>heckit</em> en dos pasos, <em>a mano</em>. Es decir, siga los siguientes pasos: i) estime un probit para la ecuación de selección y obtenga el índice <span class="math inline">\(x_i'\hat{\beta}\)</span>; ii) calcule el inverso de la razón de Mills <span class="math inline">\(\lambda_i(x_i'\hat{\beta})\)</span>; y iii) estime por MCO la ecuación para las horas trabajadas con la submuestra que tiene horas trabajadas positivas, incluyendo como regresor el inverso de la razón de Mills estimado y el resto de los regresores. Compare los coeficientes y los errores estándar obtenidos en esta parte con los de la parte b. ¿Por qué son iguales o por qué difieren?</p>
<p><em>Estimamos ahora el heckit a mano. Estimamos el probit y obtenemos el valor ajustado del IMR:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>reg_heckit_pe <span class="ot">&lt;-</span> <span class="fu">glm</span>(trabaja <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>ly<span class="sc">+</span>n_hij<span class="sc">+</span>n_hij<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>busqueda,</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>),</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> data.salarios)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>data.salarios <span class="ot">&lt;-</span> data.salarios <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">predict</span>(reg_heckit_pe, .)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">imr =</span> <span class="fu">dnorm</span>(index)<span class="sc">/</span><span class="fu">pnorm</span>(index))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>reg_heckit_se <span class="ot">&lt;-</span> <span class="fu">lm</span>(hrsocup <span class="sc">~</span> anios_esc<span class="sc">+</span>casada<span class="sc">+</span>eda<span class="sc">+</span>ly<span class="sc">+</span>imr,</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span><span class="fu">filter</span>(data.salarios,trabaja<span class="sc">==</span><span class="dv">1</span>))</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_heckit_se)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = hrsocup ~ anios_esc + casada + eda + ly + imr, data = filter(data.salarios, 
    trabaja == 1))

Residuals:
    Min      1Q  Median      3Q     Max 
-46.172 -10.085   1.915   9.253  57.689 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 55.68676    2.17948  25.550  &lt; 2e-16 ***
anios_esc    1.04814    0.10000  10.481  &lt; 2e-16 ***
casada      -3.56927    0.78057  -4.573 5.17e-06 ***
eda          0.11621    0.03904   2.977  0.00296 ** 
ly          -9.82971    0.60406 -16.273  &lt; 2e-16 ***
imr         -3.94669    3.62684  -1.088  0.27667    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.86 on 1693 degrees of freedom
Multiple R-squared:  0.1563, Adjusted R-squared:  0.1539 
F-statistic: 62.75 on 5 and 1693 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p><em>Comparamos coeficientes (aquí stargazer lo hace mejor):</em></p>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(reg_heckit_mv, reg_heckit_se,</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type=</span><span class="st">"html"</span>, </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">df=</span><span class="cn">FALSE</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">digits=</span><span class="dv">4</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table style="text-align:center">
<tbody><tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<p><em>Dependent variable:</em></p>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<p>hrsocup</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p><em>Heckman</em></p>
</td>
<td>
<p><em>OLS</em></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p><em>selection</em></p>
</td>
<td>
<p><em></em></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(1)</p>
</td>
<td>
<p>(2)</p>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<p>anios_esc</p>
</td>
<td>
<p>1.0482<sup>***</sup></p>
</td>
<td>
<p>1.0481<sup>***</sup></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(0.0999)</p>
</td>
<td>
<p>(0.1000)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>casada</p>
</td>
<td>
<p>-3.5886<sup>***</sup></p>
</td>
<td>
<p>-3.5693<sup>***</sup></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(0.7797)</p>
</td>
<td>
<p>(0.7806)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>eda</p>
</td>
<td>
<p>0.1161<sup>***</sup></p>
</td>
<td>
<p>0.1162<sup>***</sup></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(0.0390)</p>
</td>
<td>
<p>(0.0390)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>ly</p>
</td>
<td>
<p>-9.8342<sup>***</sup></p>
</td>
<td>
<p>-9.8297<sup>***</sup></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(0.6039)</p>
</td>
<td>
<p>(0.6041)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>imr</p>
</td>
<td>
</td>
<td>
<p>-3.9467</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
<p>(3.6268)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>Constant</p>
</td>
<td>
<p>55.6247<sup>***</sup></p>
</td>
<td>
<p>55.6868<sup>***</sup></p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<p>(2.1766)</p>
</td>
<td>
<p>(2.1795)</p>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<p>Observations</p>
</td>
<td>
<p>2,625</p>
</td>
<td>
<p>1,699</p>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>R<sup>2</sup></p>
</td>
<td>
<p>0.1563</p>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>Adjusted R<sup>2</sup></p>
</td>
<td>
<p>0.1539</p>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>Residual Std. Error</p>
</td>
<td>
</td>
<td>
<p>14.8614</p>
</td>
</tr>
<tr>
<td style="text-align:left">
<p>F Statistic</p>
</td>
<td>
</td>
<td>
<p>62.7490<sup>***</sup></p>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<p><em>Note:</em></p>
</td>
<td colspan="2" style="text-align:right">
<p><sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01</p>
</td>
</tr>
</tbody></table>
<p><em>La magnitud de los coeficientes es práctiamente la misma entre el modelo estimado por máxima verosimilitud y con un procedimiento en dos etapas a mano. En este ejemplo las diferencias son sutiles, aunque recordemos que en general la estimación por MV es más eficiente si la verosimilitud está bien planteada.</em></p></li>
</ol>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notas</h2>

<ol>
<li id="fn1"><p>Mroz, T. A. (1987). <a href="https://www.jstor.org/stable/1911029?casa_token=Uwxeul7XeBkAAAAA%3AyOzMP-SP9bdQNxw1FwyVjnEJt3w2ShyTtiinMVL6RZnpxKeehfas96e2ETxA6us20xyQG-NUF71svQugl78mx6vG2oJ2k7U39TtJn6P6dq-iTH2aDWsH&amp;seq=1#metadata_info_tab_contents">The sensitivity of an empirical model of married women’s hours of work to economic and statistical assumptions</a>. <em>Econometrica</em>: Journal of the econometric society, 765-799.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>